function Long(t,e,r){this.low=0|t,this.high=0|e,this.unsigned=!!r}function isLong(t){return!0===(t&&t.__isLong__)}function fromInt(t,e){var r,i,o;return e?(t>>>=0,(o=0<=t&&t<256)&&(i=UINT_CACHE[t])?i:(r=fromBits(t,(0|t)<0?-1:0,!0),o&&(UINT_CACHE[t]=r),r)):(t|=0,(o=-128<=t&&t<128)&&(i=INT_CACHE[t])?i:(r=fromBits(t,t<0?-1:0,!1),o&&(INT_CACHE[t]=r),r))}function fromNumber(t,e){if(isNaN(t)||!isFinite(t))return e?UZERO:ZERO;if(e){if(t<0)return UZERO;if(t>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(t<=-TWO_PWR_63_DBL)return MIN_VALUE;if(t+1>=TWO_PWR_63_DBL)return MAX_VALUE}return t<0?fromNumber(-t,e).neg():fromBits(t%TWO_PWR_32_DBL|0,t/TWO_PWR_32_DBL|0,e)}function fromBits(t,e,r){return new Long(t,e,r)}function fromString(t,e,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return ZERO;if("number"==typeof e?(r=e,e=!1):e=!!e,(r=r||10)<2||36<r)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return fromString(t.substring(1),e,r).neg();for(var o=fromNumber(pow_dbl(r,8)),f=ZERO,n=0;n<t.length;n+=8){var s=Math.min(8,t.length-n),h=parseInt(t.substring(n,n+s),r);if(s<8){var u=fromNumber(pow_dbl(r,s));f=f.mul(u).add(fromNumber(h))}else f=(f=f.mul(o)).add(fromNumber(h))}return f.unsigned=e,f}function fromValue(t){return t instanceof Long?t:"number"==typeof t?fromNumber(t):"string"==typeof t?fromString(t):fromBits(t.low,t.high,t.unsigned)}function stringSource(t){var e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}function stringDestination(){var t=[],e=[];return function(){if(0===arguments.length)return e.join("")+stringFromCharCode.apply(String,t);t.length+arguments.length>1024&&(e.push(stringFromCharCode.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}}function ieee754_read(t,e,r,i,o){var f,n,s=8*o-i-1,h=(1<<s)-1,u=h>>1,a=-7,g=r?o-1:0,l=r?-1:1,y=t[e+g];for(g+=l,f=y&(1<<-a)-1,y>>=-a,a+=s;a>0;f=256*f+t[e+g],g+=l,a-=8);for(n=f&(1<<-a)-1,f>>=-a,a+=i;a>0;n=256*n+t[e+g],g+=l,a-=8);if(0===f)f=1-u;else{if(f===h)return n?NaN:1/0*(y?-1:1);n+=Math.pow(2,i),f-=u}return(y?-1:1)*n*Math.pow(2,f-i)}function ieee754_write(t,e,r,i,o,f){var n,s,h,u=8*f-o-1,a=(1<<u)-1,g=a>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:f-1,B=i?1:-1,w=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,n=a):(n=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-n))<1&&(n--,h*=2),(e+=n+g>=1?l/h:l*Math.pow(2,1-g))*h>=2&&(n++,h/=2),n+g>=a?(s=0,n=a):n+g>=1?(s=(e*h-1)*Math.pow(2,o),n+=g):(s=e*Math.pow(2,g-1)*Math.pow(2,o),n=0));o>=8;t[r+y]=255&s,y+=B,s/=256,o-=8);for(n=n<<o|s,u+=o;u>0;t[r+y]=255&n,y+=B,n/=256,u-=8);t[r+y-B]|=128*w}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits;var pow_dbl=Math.pow;Long.fromString=fromString,Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(MIN_VALUE)){var e=fromNumber(t),r=this.div(e),i=r.mul(e).sub(this);return r.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var o=fromNumber(pow_dbl(t,6),this.unsigned),f=this,n="";;){var s=f.div(o),h=(f.sub(s.mul(o)).toInt()>>>0).toString(t);if((f=s).isZero())return h+n;for(;h.length<6;)h="0"+h;n=""+h+n}},LongPrototype.getHighBits=function(){return this.high},LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0},LongPrototype.getLowBits=function(){return this.low},LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0},LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},LongPrototype.isZero=function(){return 0===this.high&&0===this.low},LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function(){return 1==(1&this.low)},LongPrototype.isEven=function(){return 0==(1&this.low)},LongPrototype.equals=function(t){return isLong(t)||(t=fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function(t){return!this.eq(t)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.lessThan=function(t){return this.comp(t)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function(t){return this.comp(t)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function(t){return this.comp(t)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function(t){return this.comp(t)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function(t){if(isLong(t)||(t=fromValue(t)),this.eq(t))return 0;var e=this.isNegative(),r=t.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function(t){isLong(t)||(t=fromValue(t));var e=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,f=t.high>>>16,n=65535&t.high,s=t.low>>>16,h=0,u=0,a=0,g=0;return g+=o+(65535&t.low),a+=g>>>16,g&=65535,a+=i+s,u+=a>>>16,a&=65535,u+=r+n,h+=u>>>16,u&=65535,h+=e+f,h&=65535,fromBits(a<<16|g,h<<16|u,this.unsigned)},LongPrototype.subtract=function(t){return isLong(t)||(t=fromValue(t)),this.add(t.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function(t){if(this.isZero())return ZERO;if(isLong(t)||(t=fromValue(t)),t.isZero())return ZERO;if(this.eq(MIN_VALUE))return t.isOdd()?MIN_VALUE:ZERO;if(t.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(TWO_PWR_24)&&t.lt(TWO_PWR_24))return fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,f=t.high>>>16,n=65535&t.high,s=t.low>>>16,h=65535&t.low,u=0,a=0,g=0,l=0;return l+=o*h,g+=l>>>16,l&=65535,g+=i*h,a+=g>>>16,g&=65535,g+=o*s,a+=g>>>16,g&=65535,a+=r*h,u+=a>>>16,a&=65535,a+=i*s,u+=a>>>16,a&=65535,a+=o*n,u+=a>>>16,a&=65535,u+=e*h+r*s+i*n+o*f,u&=65535,fromBits(g<<16|l,u<<16|a,this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function(t){if(isLong(t)||(t=fromValue(t)),t.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?UZERO:ZERO;var e,r,i;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return UZERO;if(t.gt(this.shru(1)))return UONE;i=UZERO}else{if(this.eq(MIN_VALUE))return t.eq(ONE)||t.eq(NEG_ONE)?MIN_VALUE:t.eq(MIN_VALUE)?ONE:(e=this.shr(1).div(t).shl(1)).eq(ZERO)?t.isNegative()?ONE:NEG_ONE:(r=this.sub(t.mul(e)),i=e.add(r.div(t)));if(t.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=ZERO}for(r=this;r.gte(t);){e=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(e)/Math.LN2),f=o<=48?1:pow_dbl(2,o-48),n=fromNumber(e),s=n.mul(t);s.isNegative()||s.gt(r);)s=(n=fromNumber(e-=f,this.unsigned)).mul(t);n.isZero()&&(n=ONE),i=i.add(n),r=r.sub(s)}return i},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function(t){return isLong(t)||(t=fromValue(t)),this.sub(this.div(t).mul(t))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.and=function(t){return isLong(t)||(t=fromValue(t)),fromBits(this.low&t.low,this.high&t.high,this.unsigned)},LongPrototype.or=function(t){return isLong(t)||(t=fromValue(t)),fromBits(this.low|t.low,this.high|t.high,this.unsigned)},LongPrototype.xor=function(t){return isLong(t)||(t=fromValue(t)),fromBits(this.low^t.low,this.high^t.high,this.unsigned)},LongPrototype.shiftLeft=function(t){return isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):fromBits(0,this.low<<t-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function(t){return isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function(t){if(isLong(t)&&(t=t.toInt()),0===(t&=63))return this;var e=this.high;return t<32?fromBits(this.low>>>t|e<<32-t,e>>>t,this.unsigned):32===t?fromBits(e,0,this.unsigned):fromBits(e>>>t-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},LongPrototype.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]};var ByteBuffer=function(t,e,r){if(void 0===t&&(t=ByteBuffer.DEFAULT_CAPACITY),void 0===e&&(e=ByteBuffer.DEFAULT_ENDIAN),void 0===r&&(r=ByteBuffer.DEFAULT_NOASSERT),!r){if((t|=0)<0)throw RangeError("Illegal capacity");e=!!e,r=!!r}this.buffer=0===t?EMPTY_BUFFER:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=e,this.noAssert=r};ByteBuffer.VERSION="5.0.1",ByteBuffer.LITTLE_ENDIAN=!0,ByteBuffer.BIG_ENDIAN=!1,ByteBuffer.DEFAULT_CAPACITY=16,ByteBuffer.DEFAULT_ENDIAN=ByteBuffer.BIG_ENDIAN,ByteBuffer.DEFAULT_NOASSERT=!1,ByteBuffer.Long=Long||null;var ByteBufferPrototype=ByteBuffer.prototype;ByteBufferPrototype.__isByteBuffer__,Object.defineProperty(ByteBufferPrototype,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var EMPTY_BUFFER=new ArrayBuffer(0),stringFromCharCode=String.fromCharCode;ByteBuffer.accessor=function(){return Uint8Array},ByteBuffer.allocate=function(t,e,r){return new ByteBuffer(t,e,r)},ByteBuffer.concat=function(t,e,r,i){"boolean"!=typeof e&&"string"==typeof e||(i=r,r=e,e=void 0);for(var o,f=0,n=0,s=t.length;n<s;++n)ByteBuffer.isByteBuffer(t[n])||(t[n]=ByteBuffer.wrap(t[n],e)),(o=t[n].limit-t[n].offset)>0&&(f+=o);if(0===f)return new ByteBuffer(0,r,i);var h,u=new ByteBuffer(f,r,i);for(n=0;n<s;)(o=(h=t[n++]).limit-h.offset)<=0||(u.view.set(h.view.subarray(h.offset,h.limit),u.offset),u.offset+=o);return u.limit=u.offset,u.offset=0,u},ByteBuffer.isByteBuffer=function(t){return!0===(t&&t.__isByteBuffer__)},ByteBuffer.type=function(){return ArrayBuffer},ByteBuffer.wrap=function(t,e,r,i){if("string"!=typeof e&&(i=r,r=e,e=void 0),"string"==typeof t)switch(void 0===e&&(e="utf8"),e){case"base64":return ByteBuffer.fromBase64(t,r);case"hex":return ByteBuffer.fromHex(t,r);case"binary":return ByteBuffer.fromBinary(t,r);case"utf8":return ByteBuffer.fromUTF8(t,r);case"debug":return ByteBuffer.fromDebug(t,r);default:throw Error("Unsupported encoding: "+e)}if(null===t||"object"!=typeof t)throw TypeError("Illegal buffer");var o;if(ByteBuffer.isByteBuffer(t))return o=ByteBufferPrototype.clone.call(t),o.markedOffset=-1,o;if(t instanceof Uint8Array)o=new ByteBuffer(0,r,i),t.length>0&&(o.buffer=t.buffer,o.offset=t.byteOffset,o.limit=t.byteOffset+t.byteLength,o.view=new Uint8Array(t.buffer));else if(t instanceof ArrayBuffer)o=new ByteBuffer(0,r,i),t.byteLength>0&&(o.buffer=t,o.offset=0,o.limit=t.byteLength,o.view=t.byteLength>0?new Uint8Array(t):null);else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");(o=new ByteBuffer(t.length,r,i)).limit=t.length;for(var f=0;f<t.length;++f)o.view[f]=t[f]}return o},ByteBufferPrototype.writeBitSet=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if(!(t instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i,o=e,f=t.length,n=f>>3,s=0;for(e+=this.writeVarint32(f,e);n--;)i=1&!!t[s++]|(1&!!t[s++])<<1|(1&!!t[s++])<<2|(1&!!t[s++])<<3|(1&!!t[s++])<<4|(1&!!t[s++])<<5|(1&!!t[s++])<<6|(1&!!t[s++])<<7,this.writeByte(i,e++);if(s<f){var h=0;for(i=0;s<f;)i|=(1&!!t[s++])<<h++;this.writeByte(i,e++)}return r?(this.offset=e,this):e-o},ByteBufferPrototype.readBitSet=function(t){var e=void 0===t;e&&(t=this.offset);var r,i=this.readVarint32(t),o=i.value,f=o>>3,n=0,s=[];for(t+=i.length;f--;)r=this.readByte(t++),s[n++]=!!(1&r),s[n++]=!!(2&r),s[n++]=!!(4&r),s[n++]=!!(8&r),s[n++]=!!(16&r),s[n++]=!!(32&r),s[n++]=!!(64&r),s[n++]=!!(128&r);if(n<o){var h=0;for(r=this.readByte(t++);n<o;)s[n++]=!!(r>>h++&1)}return e&&(this.offset=t),s},ByteBufferPrototype.readBytes=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.byteLength)}var i=this.slice(e,e+t);return r&&(this.offset+=t),i},ByteBufferPrototype.writeInt8=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=1,this.view[e]=t,r&&(this.offset+=1),this},ByteBufferPrototype.writeByte=ByteBufferPrototype.writeInt8,ByteBufferPrototype.readInt8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view[t];return 128==(128&r)&&(r=-(255-r+1)),e&&(this.offset+=1),r},ByteBufferPrototype.readByte=ByteBufferPrototype.readInt8,ByteBufferPrototype.writeUint8=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=1,this.view[e]=t,r&&(this.offset+=1),this},ByteBufferPrototype.writeUInt8=ByteBufferPrototype.writeUint8,ByteBufferPrototype.readUint8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view[t];return e&&(this.offset+=1),r},ByteBufferPrototype.readUInt8=ByteBufferPrototype.readUint8,ByteBufferPrototype.writeInt16=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),r&&(this.offset+=2),this},ByteBufferPrototype.writeShort=ByteBufferPrototype.writeInt16,ByteBufferPrototype.readInt16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),32768==(32768&r)&&(r=-(65535-r+1)),e&&(this.offset+=2),r},ByteBufferPrototype.readShort=ByteBufferPrototype.readInt16,ByteBufferPrototype.writeUint16=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),r&&(this.offset+=2),this},ByteBufferPrototype.writeUInt16=ByteBufferPrototype.writeUint16,ByteBufferPrototype.readUint16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),e&&(this.offset+=2),r},ByteBufferPrototype.readUInt16=ByteBufferPrototype.readUint16,ByteBufferPrototype.writeInt32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),r&&(this.offset+=4),this},ByteBufferPrototype.writeInt=ByteBufferPrototype.writeInt32,ByteBufferPrototype.readInt32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),r|=0,e&&(this.offset+=4),r},ByteBufferPrototype.readInt=ByteBufferPrototype.readInt32,ByteBufferPrototype.writeUint32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),r&&(this.offset+=4),this},ByteBufferPrototype.writeUInt32=ByteBufferPrototype.writeUint32,ByteBufferPrototype.readUint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),e&&(this.offset+=4),r},ByteBufferPrototype.readUInt32=ByteBufferPrototype.readUint32,Long&&(ByteBufferPrototype.writeInt64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"==typeof t)t=Long.fromNumber(t);else if("string"==typeof t)t=Long.fromString(t);else if(!(t&&t instanceof Long))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=Long.fromNumber(t):"string"==typeof t&&(t=Long.fromString(t)),e+=8;var i=this.buffer.byteLength;e>i&&this.resize((i*=2)>e?i:e),e-=8;var o=t.low,f=t.high;return this.littleEndian?(this.view[e+3]=o>>>24&255,this.view[e+2]=o>>>16&255,this.view[e+1]=o>>>8&255,this.view[e]=255&o,e+=4,this.view[e+3]=f>>>24&255,this.view[e+2]=f>>>16&255,this.view[e+1]=f>>>8&255,this.view[e]=255&f):(this.view[e]=f>>>24&255,this.view[e+1]=f>>>16&255,this.view[e+2]=f>>>8&255,this.view[e+3]=255&f,e+=4,this.view[e]=o>>>24&255,this.view[e+1]=o>>>16&255,this.view[e+2]=o>>>8&255,this.view[e+3]=255&o),r&&(this.offset+=8),this},ByteBufferPrototype.writeLong=ByteBufferPrototype.writeInt64,ByteBufferPrototype.readInt64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var o=new Long(r,i,!1);return e&&(this.offset+=8),o},ByteBufferPrototype.readLong=ByteBufferPrototype.readInt64,ByteBufferPrototype.writeUint64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"==typeof t)t=Long.fromNumber(t);else if("string"==typeof t)t=Long.fromString(t);else if(!(t&&t instanceof Long))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=Long.fromNumber(t):"string"==typeof t&&(t=Long.fromString(t)),e+=8;var i=this.buffer.byteLength;e>i&&this.resize((i*=2)>e?i:e),e-=8;var o=t.low,f=t.high;return this.littleEndian?(this.view[e+3]=o>>>24&255,this.view[e+2]=o>>>16&255,this.view[e+1]=o>>>8&255,this.view[e]=255&o,e+=4,this.view[e+3]=f>>>24&255,this.view[e+2]=f>>>16&255,this.view[e+1]=f>>>8&255,this.view[e]=255&f):(this.view[e]=f>>>24&255,this.view[e+1]=f>>>16&255,this.view[e+2]=f>>>8&255,this.view[e+3]=255&f,e+=4,this.view[e]=o>>>24&255,this.view[e+1]=o>>>16&255,this.view[e+2]=o>>>8&255,this.view[e+3]=255&o),r&&(this.offset+=8),this},ByteBufferPrototype.writeUInt64=ByteBufferPrototype.writeUint64,ByteBufferPrototype.readUint64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var o=new Long(r,i,!0);return e&&(this.offset+=8),o},ByteBufferPrototype.readUInt64=ByteBufferPrototype.readUint64),ByteBufferPrototype.writeFloat32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=4,ieee754_write(this.view,t,e,this.littleEndian,23,4),r&&(this.offset+=4),this},ByteBufferPrototype.writeFloat=ByteBufferPrototype.writeFloat32,ByteBufferPrototype.readFloat32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=ieee754_read(this.view,t,this.littleEndian,23,4);return e&&(this.offset+=4),r},ByteBufferPrototype.readFloat=ByteBufferPrototype.readFloat32,ByteBufferPrototype.writeFloat64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=8,ieee754_write(this.view,t,e,this.littleEndian,52,8),r&&(this.offset+=8),this},ByteBufferPrototype.writeDouble=ByteBufferPrototype.writeFloat64,ByteBufferPrototype.readFloat64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=ieee754_read(this.view,t,this.littleEndian,52,8);return e&&(this.offset+=8),r},ByteBufferPrototype.readDouble=ByteBufferPrototype.readFloat64,ByteBuffer.MAX_VARINT32_BYTES=5,ByteBuffer.calculateVarint32=function(t){return(t>>>=0)<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5},ByteBuffer.zigZagEncode32=function(t){return((t|=0)<<1^t>>31)>>>0},ByteBuffer.zigZagDecode32=function(t){return t>>>1^-(1&t)|0},ByteBufferPrototype.writeVarint32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i,o=ByteBuffer.calculateVarint32(t);e+=o;var f=this.buffer.byteLength;for(e>f&&this.resize((f*=2)>e?f:e),e-=o,t>>>=0;t>=128;)i=127&t|128,this.view[e++]=i,t>>>=7;return this.view[e++]=t,r?(this.offset=e,this):o},ByteBufferPrototype.writeVarint32ZigZag=function(t,e){return this.writeVarint32(ByteBuffer.zigZagEncode32(t),e)},ByteBufferPrototype.readVarint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,i=0,o=0;do{if(!this.noAssert&&t>this.limit){var f=Error("Truncated");throw f.truncated=!0,f}r=this.view[t++],i<5&&(o|=(127&r)<<7*i),++i}while(0!=(128&r));return o|=0,e?(this.offset=t,o):{value:o,length:i}},ByteBufferPrototype.readVarint32ZigZag=function(t){var e=this.readVarint32(t);return"object"==typeof e?e.value=ByteBuffer.zigZagDecode32(e.value):e=ByteBuffer.zigZagDecode32(e),e},Long&&(ByteBuffer.MAX_VARINT64_BYTES=10,ByteBuffer.calculateVarint64=function(t){"number"==typeof t?t=Long.fromNumber(t):"string"==typeof t&&(t=Long.fromString(t));var e=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0,i=t.shiftRightUnsigned(56).toInt()>>>0;return 0==i?0==r?e<16384?e<128?1:2:e<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10},ByteBuffer.zigZagEncode64=function(t){return"number"==typeof t?t=Long.fromNumber(t,!1):"string"==typeof t?t=Long.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},ByteBuffer.zigZagDecode64=function(t){return"number"==typeof t?t=Long.fromNumber(t,!1):"string"==typeof t?t=Long.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(Long.ONE).toSigned().negate()).toSigned()},ByteBufferPrototype.writeVarint64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"==typeof t)t=Long.fromNumber(t);else if("string"==typeof t)t=Long.fromString(t);else if(!(t&&t instanceof Long))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=Long.fromNumber(t,!1):"string"==typeof t?t=Long.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned());var i=ByteBuffer.calculateVarint64(t),o=t.toInt()>>>0,f=t.shiftRightUnsigned(28).toInt()>>>0,n=t.shiftRightUnsigned(56).toInt()>>>0;e+=i;var s=this.buffer.byteLength;switch(e>s&&this.resize((s*=2)>e?s:e),e-=i,i){case 10:this.view[e+9]=n>>>7&1;case 9:this.view[e+8]=9!==i?128|n:127&n;case 8:this.view[e+7]=8!==i?f>>>21|128:f>>>21&127;case 7:this.view[e+6]=7!==i?f>>>14|128:f>>>14&127;case 6:this.view[e+5]=6!==i?f>>>7|128:f>>>7&127;case 5:this.view[e+4]=5!==i?128|f:127&f;case 4:this.view[e+3]=4!==i?o>>>21|128:o>>>21&127;case 3:this.view[e+2]=3!==i?o>>>14|128:o>>>14&127;case 2:this.view[e+1]=2!==i?o>>>7|128:o>>>7&127;case 1:this.view[e]=1!==i?128|o:127&o}return r?(this.offset+=i,this):i},ByteBufferPrototype.writeVarint64ZigZag=function(t,e){return this.writeVarint64(ByteBuffer.zigZagEncode64(t),e)},ByteBufferPrototype.readVarint64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,i=0,o=0,f=0,n=0;if(n=this.view[t++],i=127&n,128&n&&(n=this.view[t++],i|=(127&n)<<7,(128&n||this.noAssert&&void 0===n)&&(n=this.view[t++],i|=(127&n)<<14,(128&n||this.noAssert&&void 0===n)&&(n=this.view[t++],i|=(127&n)<<21,(128&n||this.noAssert&&void 0===n)&&(n=this.view[t++],o=127&n,(128&n||this.noAssert&&void 0===n)&&(n=this.view[t++],o|=(127&n)<<7,(128&n||this.noAssert&&void 0===n)&&(n=this.view[t++],o|=(127&n)<<14,(128&n||this.noAssert&&void 0===n)&&(n=this.view[t++],o|=(127&n)<<21,(128&n||this.noAssert&&void 0===n)&&(n=this.view[t++],f=127&n,(128&n||this.noAssert&&void 0===n)&&(n=this.view[t++],f|=(127&n)<<7,128&n||this.noAssert&&void 0===n))))))))))throw Error("Buffer overrun");var s=Long.fromBits(i|o<<28,o>>>4|f<<24,!1);return e?(this.offset=t,s):{value:s,length:t-r}},ByteBufferPrototype.readVarint64ZigZag=function(t){var e=this.readVarint64(t);return e&&e.value instanceof Long?e.value=ByteBuffer.zigZagDecode64(e.value):e=ByteBuffer.zigZagDecode64(e),e}),ByteBufferPrototype.writeCString=function(t,e){var r=void 0===e;r&&(e=this.offset);var i,o=t.length;if(!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");for(i=0;i<o;++i)if(0===t.charCodeAt(i))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}o=utfx.calculateUTF16asUTF8(stringSource(t))[1],e+=o+1;var f=this.buffer.byteLength;return e>f&&this.resize((f*=2)>e?f:e),e-=o+1,utfx.encodeUTF16toUTF8(stringSource(t),function(t){this.view[e++]=t}.bind(this)),this.view[e++]=0,r?(this.offset=e,this):o},ByteBufferPrototype.readCString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,i=t,o=-1;return utfx.decodeUTF8toUTF16(function(){if(0===o)return null;if(t>=this.limit)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.limit);return 0===(o=this.view[t++])?null:o}.bind(this),r=stringDestination(),!0),e?(this.offset=t,r()):{string:r(),length:t-i}},ByteBufferPrototype.writeIString=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i,o=e;i=utfx.calculateUTF16asUTF8(stringSource(t),this.noAssert)[1],e+=4+i;var f=this.buffer.byteLength;if(e>f&&this.resize((f*=2)>e?f:e),e-=4+i,this.littleEndian?(this.view[e+3]=i>>>24&255,this.view[e+2]=i>>>16&255,this.view[e+1]=i>>>8&255,this.view[e]=255&i):(this.view[e]=i>>>24&255,this.view[e+1]=i>>>16&255,this.view[e+2]=i>>>8&255,this.view[e+3]=255&i),e+=4,utfx.encodeUTF16toUTF8(stringSource(t),function(t){this.view[e++]=t}.bind(this)),e!==o+4+i)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+4+i));return r?(this.offset=e,this):e-o},ByteBufferPrototype.readIString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=t,i=this.readUint32(t),o=this.readUTF8String(i,ByteBuffer.METRICS_BYTES,t+=4);return t+=o.length,e?(this.offset=t,o.string):{string:o.string,length:t-r}},ByteBuffer.METRICS_CHARS="c",ByteBuffer.METRICS_BYTES="b",ByteBufferPrototype.writeUTF8String=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i,o=e;i=utfx.calculateUTF16asUTF8(stringSource(t))[1],e+=i;var f=this.buffer.byteLength;return e>f&&this.resize((f*=2)>e?f:e),e-=i,utfx.encodeUTF16toUTF8(stringSource(t),function(t){this.view[e++]=t}.bind(this)),r?(this.offset=e,this):e-o},ByteBufferPrototype.writeString=ByteBufferPrototype.writeUTF8String,ByteBuffer.calculateUTF8Chars=function(t){return utfx.calculateUTF16asUTF8(stringSource(t))[0]},ByteBuffer.calculateUTF8Bytes=function(t){return utfx.calculateUTF16asUTF8(stringSource(t))[1]},ByteBuffer.calculateString=ByteBuffer.calculateUTF8Bytes,ByteBufferPrototype.readUTF8String=function(t,e,r){"number"==typeof e&&(r=e,e=void 0);var i=void 0===r;if(i&&(r=this.offset),void 0===e&&(e=ByteBuffer.METRICS_CHARS),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var o,f=0,n=r;if(e===ByteBuffer.METRICS_CHARS){if(o=stringDestination(),utfx.decodeUTF8(function(){return f<t&&r<this.limit?this.view[r++]:null}.bind(this),function(t){++f,utfx.UTF8toUTF16(t,o)}),f!==t)throw RangeError("Illegal range: Truncated data, "+f+" == "+t);return i?(this.offset=r,o()):{string:o(),length:r-n}}if(e===ByteBuffer.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+t+") <= "+this.buffer.byteLength)}var s=r+t;if(utfx.decodeUTF8toUTF16(function(){return r<s?this.view[r++]:null}.bind(this),o=stringDestination(),this.noAssert),r!==s)throw RangeError("Illegal range: Truncated data, "+r+" == "+s);return i?(this.offset=r,o()):{string:o(),length:r-n}}throw TypeError("Unsupported metrics: "+e)},ByteBufferPrototype.readString=ByteBufferPrototype.readUTF8String,ByteBufferPrototype.writeVString=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i,o,f=e;i=utfx.calculateUTF16asUTF8(stringSource(t),this.noAssert)[1],o=ByteBuffer.calculateVarint32(i),e+=o+i;var n=this.buffer.byteLength;if(e>n&&this.resize((n*=2)>e?n:e),e-=o+i,e+=this.writeVarint32(i,e),utfx.encodeUTF16toUTF8(stringSource(t),function(t){this.view[e++]=t}.bind(this)),e!==f+i+o)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+i+o));return r?(this.offset=e,this):e-f},ByteBufferPrototype.readVString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,i=this.readVarint32(t),o=this.readUTF8String(i.value,ByteBuffer.METRICS_BYTES,t+=i.length);return t+=o.length,e?(this.offset=t,o.string):{string:o.string,length:t-r}},ByteBufferPrototype.append=function(t,e,r){"number"!=typeof e&&"string"==typeof e||(r=e,e=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}t instanceof ByteBuffer||(t=ByteBuffer.wrap(t,e));var o=t.limit-t.offset;if(o<=0)return this;r+=o;var f=this.buffer.byteLength;return r>f&&this.resize((f*=2)>r?f:r),r-=o,this.view.set(t.view.subarray(t.offset,t.limit),r),t.offset+=o,i&&(this.offset+=o),this},ByteBufferPrototype.appendTo=function(t,e){return t.append(this,e),this},ByteBufferPrototype.writeBytes=ByteBufferPrototype.append,ByteBufferPrototype.assert=function(t){return this.noAssert=!t,this},ByteBufferPrototype.capacity=function(){return this.buffer.byteLength},ByteBufferPrototype.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},ByteBufferPrototype.clone=function(t){var e=new ByteBuffer(0,this.littleEndian,this.noAssert);return t?(e.buffer=new ArrayBuffer(this.buffer.byteLength),e.view=new Uint8Array(e.buffer)):(e.buffer=this.buffer,e.view=this.view),e.offset=this.offset,e.markedOffset=this.markedOffset,e.limit=this.limit,e},ByteBufferPrototype.compact=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;var r=e-t;if(0===r)return this.buffer=EMPTY_BUFFER,this.view=null,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(r),o=new Uint8Array(i);return o.set(this.view.subarray(t,e)),this.buffer=i,this.view=o,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=r,this},ByteBufferPrototype.copy=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(t===e)return new ByteBuffer(0,this.littleEndian,this.noAssert);var r=e-t,i=new ByteBuffer(r,this.littleEndian,this.noAssert);return i.offset=0,i.limit=r,i.markedOffset>=0&&(i.markedOffset-=t),this.copyTo(i,0,t,e),i},ByteBufferPrototype.copyTo=function(t,e,r,i){var o,f;if(!this.noAssert&&!ByteBuffer.isByteBuffer(t))throw TypeError("Illegal target: Not a ByteBuffer");if(e=(f=void 0===e)?t.offset:0|e,r=(o=void 0===r)?this.offset:0|r,i=void 0===i?this.limit:0|i,e<0||e>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+e+" <= "+t.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var n=i-r;return 0===n?t:(t.ensureCapacity(e+n),t.view.set(this.view.subarray(r,i),e),o&&(this.offset+=n),f&&(t.offset+=n),this)},ByteBufferPrototype.ensureCapacity=function(t){var e=this.buffer.byteLength;return e<t?this.resize((e*=2)>t?e:t):this},ByteBufferPrototype.fill=function(t,e,r){var i=void 0===e;if(i&&(e=this.offset),"string"==typeof t&&t.length>0&&(t=t.charCodeAt(0)),void 0===e&&(e=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(e>=r)return this;for(;e<r;)this.view[e++]=t;return i&&(this.offset=e),this},ByteBufferPrototype.flip=function(){return this.limit=this.offset,this.offset=0,this},ByteBufferPrototype.mark=function(t){if(t=void 0===t?this.offset:t,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this},ByteBufferPrototype.order=function(t){if(!this.noAssert&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this},ByteBufferPrototype.LE=function(t){return this.littleEndian=void 0===t||!!t,this},ByteBufferPrototype.BE=function(t){return this.littleEndian=void 0!==t&&!t,this},ByteBufferPrototype.prepend=function(t,e,r){"number"!=typeof e&&"string"==typeof e||(r=e,e=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}t instanceof ByteBuffer||(t=ByteBuffer.wrap(t,e));var o=t.limit-t.offset;if(o<=0)return this;var f=o-r;if(f>0){var n=new ArrayBuffer(this.buffer.byteLength+f),s=new Uint8Array(n);s.set(this.view.subarray(r,this.buffer.byteLength),o),this.buffer=n,this.view=s,this.offset+=f,this.markedOffset>=0&&(this.markedOffset+=f),this.limit+=f,r+=f}else new Uint8Array(this.buffer);return this.view.set(t.view.subarray(t.offset,t.limit),r-o),t.offset=t.limit,i&&(this.offset-=o),this},ByteBufferPrototype.prependTo=function(t,e){return t.prepend(this,e),this},ByteBufferPrototype.printDebug=function(t){"function"!=typeof t&&(t=console.log.bind(console)),t(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},ByteBufferPrototype.remaining=function(){return this.limit-this.offset},ByteBufferPrototype.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},ByteBufferPrototype.resize=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if((t|=0)<0)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){var e=new ArrayBuffer(t),r=new Uint8Array(e);r.set(this.view),this.buffer=e,this.view=r}return this},ByteBufferPrototype.reverse=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e?this:(Array.prototype.reverse.call(this.view.subarray(t,e)),this)},ByteBufferPrototype.skip=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var e=this.offset+t;if(!this.noAssert&&(e<0||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this},ByteBufferPrototype.slice=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=t,r.limit=e,r},ByteBufferPrototype.toBuffer=function(t){var e=this.offset,r=this.limit;if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(!t&&0===e&&r===this.buffer.byteLength)return this.buffer;if(e===r)return EMPTY_BUFFER;var i=new ArrayBuffer(r-e);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(e,r),0),i},ByteBufferPrototype.toArrayBuffer=ByteBufferPrototype.toBuffer,ByteBufferPrototype.toString=function(t,e,r){if(void 0===t)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof t&&(t="utf8",e=t,r=e),t){case"utf8":return this.toUTF8(e,r);case"base64":return this.toBase64(e,r);case"hex":return this.toHex(e,r);case"binary":return this.toBinary(e,r);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+t)}};var lxiv=function(){"use strict";for(var t={},e=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],i=0,o=e.length;i<o;++i)r[e[i]]=i;return t.encode=function(t,r){for(var i,o;null!==(i=t());)r(e[i>>2&63]),o=(3&i)<<4,null!==(i=t())?(r(e[63&((o|=i>>4&15)|i>>4&15)]),o=(15&i)<<2,null!==(i=t())?(r(e[63&(o|i>>6&3)]),r(e[63&i])):(r(e[63&o]),r(61))):(r(e[63&o]),r(61),r(61))},t.decode=function(t,e){function i(t){throw Error("Illegal character code: "+t)}for(var o,f,n;null!==(o=t());)if(void 0===(f=r[o])&&i(o),null!==(o=t())&&(void 0===(n=r[o])&&i(o),e(f<<2>>>0|(48&n)>>4),null!==(o=t()))){if(void 0===(f=r[o])){if(61===o)break;i(o)}if(e((15&n)<<4>>>0|(60&f)>>2),null!==(o=t())){if(void 0===(n=r[o])){if(61===o)break;i(o)}e((3&f)<<6>>>0|n)}}},t.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)},t}();ByteBufferPrototype.toBase64=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),t|=0,e|=0,t<0||e>this.capacity||t>e)throw RangeError("begin, end");var r;return lxiv.encode(function(){return t<e?this.view[t++]:null}.bind(this),r=stringDestination()),r()},ByteBuffer.fromBase64=function(t,e){if("string"!=typeof t)throw TypeError("str");var r=new ByteBuffer(t.length/4*3,e),i=0;return lxiv.decode(stringSource(t),function(t){r.view[i++]=t}),r.limit=i,r},ByteBuffer.btoa=function(t){return ByteBuffer.fromBinary(t).toBase64()},ByteBuffer.atob=function(t){return ByteBuffer.fromBase64(t).toBinary()},ByteBufferPrototype.toBinary=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),t|=0,e|=0,t<0||e>this.capacity()||t>e)throw RangeError("begin, end");if(t===e)return"";for(var r=[],i=[];t<e;)r.push(this.view[t++]),r.length>=1024&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},ByteBuffer.fromBinary=function(t,e){if("string"!=typeof t)throw TypeError("str");for(var r,i=0,o=t.length,f=new ByteBuffer(o,e);i<o;){if((r=t.charCodeAt(i))>255)throw RangeError("illegal char code: "+r);f.view[i++]=r}return f.limit=o,f},ByteBufferPrototype.toDebug=function(t){for(var e,r=-1,i=this.buffer.byteLength,o="",f="",n="";r<i;){if(-1!==r&&(o+=(e=this.view[r])<16?"0"+e.toString(16).toUpperCase():e.toString(16).toUpperCase(),t&&(f+=e>32&&e<127?String.fromCharCode(e):".")),++r,t&&r>0&&r%16==0&&r!==i){for(;o.length<51;)o+=" ";n+=o+f+"\n",o=f=""}r===this.offset&&r===this.limit?o+=r===this.markedOffset?"!":"|":r===this.offset?o+=r===this.markedOffset?"[":"<":r===this.limit?o+=r===this.markedOffset?"]":">":o+=r===this.markedOffset?"'":t||0!==r&&r!==i?" ":""}if(t&&" "!==o){for(;o.length<51;)o+=" ";n+=o+f+"\n"}return t?n:o},ByteBuffer.fromDebug=function(t,e,r){for(var i,o,f=t.length,n=new ByteBuffer((f+1)/3|0,e,r),s=0,h=0,u=!1,a=!1,g=!1,l=!1,y=!1;s<f;){switch(i=t.charAt(s++)){case"!":if(!r){if(a||g||l){y=!0;break}a=g=l=!0}n.offset=n.markedOffset=n.limit=h,u=!1;break;case"|":if(!r){if(a||l){y=!0;break}a=l=!0}n.offset=n.limit=h,u=!1;break;case"[":if(!r){if(a||g){y=!0;break}a=g=!0}n.offset=n.markedOffset=h,u=!1;break;case"<":if(!r){if(a){y=!0;break}a=!0}n.offset=h,u=!1;break;case"]":if(!r){if(l||g){y=!0;break}l=g=!0}n.limit=n.markedOffset=h,u=!1;break;case">":if(!r){if(l){y=!0;break}l=!0}n.limit=h,u=!1;break;case"'":if(!r){if(g){y=!0;break}g=!0}n.markedOffset=h,u=!1;break;case" ":u=!1;break;default:if(!r&&u){y=!0;break}if(o=parseInt(i+t.charAt(s++),16),!r&&(isNaN(o)||o<0||o>255))throw TypeError("Illegal str: Not a debug encoded string");n.view[h++]=o,u=!0}if(y)throw TypeError("Illegal str: Invalid symbol at "+s)}if(!r){if(!a||!l)throw TypeError("Illegal str: Missing offset or limit");if(h<n.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+h+" < "+f)}return n},ByteBufferPrototype.toHex=function(t,e){if(t=void 0===t?this.offset:t,e=void 0===e?this.limit:e,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}for(var r,i=new Array(e-t);t<e;)(r=this.view[t++])<16?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},ByteBuffer.fromHex=function(t,e,r){if(!r){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,o=t.length,f=new ByteBuffer(o/2|0,e),n=0,s=0;n<o;n+=2){if(i=parseInt(t.substring(n,n+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");f.view[s++]=i}return f.limit=s,f};var utfx=function(){"use strict";var t={};return t.MAX_CODEPOINT=1114111,t.encodeUTF8=function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<128?e(127&r):r<2048?(e(r>>6&31|192),e(63&r|128)):r<65536?(e(r>>12&15|224),e(r>>6&63|128),e(63&r|128)):(e(r>>18&7|240),e(r>>12&63|128),e(r>>6&63|128),e(63&r|128)),r=null},t.decodeUTF8=function(t,e){for(var r,i,o,f,n=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(r=t());)if(0==(128&r))e(r);else if(192==(224&r))null===(i=t())&&n([r,i]),e((31&r)<<6|63&i);else if(224==(240&r))(null===(i=t())||null===(o=t()))&&n([r,i,o]),e((15&r)<<12|(63&i)<<6|63&o);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=t())||null===(o=t())||null===(f=t()))&&n([r,i,o,f]),e((7&r)<<18|(63&i)<<12|(63&o)<<6|63&f)}},t.UTF16toUTF8=function(t,e){for(var r,i=null;;){if(null===(r=null!==i?i:t()))break;r>=55296&&r<=57343&&null!==(i=t())&&i>=56320&&i<=57343?(e(1024*(r-55296)+i-56320+65536),i=null):e(r)}null!==i&&e(i)},t.UTF8toUTF16=function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<=65535?e(r):(r-=65536,e(55296+(r>>10)),e(r%1024+56320)),r=null},t.encodeUTF16toUTF8=function(e,r){t.UTF16toUTF8(e,function(e){t.encodeUTF8(e,r)})},t.decodeUTF8toUTF16=function(e,r){t.decodeUTF8(e,function(e){t.UTF8toUTF16(e,r)})},t.calculateCodePoint=function(t){return t<128?1:t<2048?2:t<65536?3:4},t.calculateUTF8=function(t){for(var e,r=0;null!==(e=t());)r+=e<128?1:e<2048?2:e<65536?3:4;return r},t.calculateUTF16asUTF8=function(e){var r=0,i=0;return t.UTF16toUTF8(e,function(t){++r,i+=t<128?1:t<2048?2:t<65536?3:4}),[r,i]},t}();ByteBufferPrototype.toUTF8=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r;try{utfx.decodeUTF8toUTF16(function(){return t<e?this.view[t++]:null}.bind(this),r=stringDestination())}catch(r){if(t!==e)throw RangeError("Illegal range: Truncated data, "+t+" != "+e)}return r()},ByteBuffer.fromUTF8=function(t,e,r){if(!r&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");var i=new ByteBuffer(utfx.calculateUTF16asUTF8(stringSource(t),!0)[1],e,r),o=0;return utfx.encodeUTF16toUTF8(stringSource(t),function(t){i.view[o++]=t}),i.limit=o,i};