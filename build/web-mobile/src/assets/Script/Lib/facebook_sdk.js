try{window.FB||function(e){var t=e,n=e.document,i=e.setTimeout,r=e.setInterval,o=e.clearTimeout,s=e.clearInterval;var a,l;!function(e){var t={},n={},i=["global","require","requireDynamic","requireLazy","module","exports"];a=function(i,r){if(n.hasOwnProperty(i))return n[i];if(!t.hasOwnProperty(i)){if(r)return null;throw new Error("Module "+i+" has not been defined")}for(var o,s=t[i],l=s.deps,u=s.factory.length,c=[],d=0;d<u;d++){switch(l[d]){case"module":o=s;break;case"exports":o=s.exports;break;case"global":o=e;break;case"require":case"requireDynamic":o=a;break;case"requireLazy":o=null;break;default:o=a.call(null,l[d])}c.push(o)}return s.factory.apply(e,c),n[i]=s.exports,s.exports},l=function(e,r,o,s){"function"==typeof o?(t[e]={factory:o,deps:i.concat(r),exports:{}},3===s&&a.call(null,e)):n[e]=o}}(this),l("ES5ArrayPrototype",[],function(e,t,n,i,r,o){var s={};s.map=function(e,t){if("function"!=typeof e)throw new TypeError;var n,i=this.length,r=new Array(i);for(n=0;n<i;++n)n in this&&(r[n]=e.call(t,this[n],n,this));return r},s.forEach=function(e,t){s.map.call(this,e,t)},s.filter=function(e,t){if("function"!=typeof e)throw new TypeError;var n,i,r=this.length,o=[];for(n=0;n<r;++n)n in this&&(i=this[n],e.call(t,i,n,this)&&o.push(i));return o},s.every=function(e,t){if("function"!=typeof e)throw new TypeError;for(var n=new Object(this),i=n.length,r=0;r<i;r++)if(r in n&&!e.call(t,n[r],r,n))return!1;return!0},s.some=function(e,t){if("function"!=typeof e)throw new TypeError;for(var n=new Object(this),i=n.length,r=0;r<i;r++)if(r in n&&e.call(t,n[r],r,n))return!0;return!1},s.indexOf=function(e,t){var n=this.length;for((t|=0)<0&&(t+=n);t<n;t++)if(t in this&&this[t]===e)return t;return-1},r.exports=s},null),l("ES5FunctionPrototype",[],function(e,t,n,i,r,o){var s={};s.bind=function(e){function t(){return n.apply(e,i.concat(Array.prototype.slice.call(arguments)))}if("function"!=typeof this)throw new TypeError("Bind must be called on a function");var n=this,i=Array.prototype.slice.call(arguments,1);return t.displayName="bound:"+(n.displayName||n.name||"(?)"),t.toString=function(){return"bound: "+n},t},r.exports=s},null),l("ES5StringPrototype",[],function(e,t,n,i,r,o){var s={};s.trim=function(){if(null==this)throw new TypeError("String.prototype.trim called on null or undefined");return String.prototype.replace.call(this,/^\s+|\s+$/g,"")},s.startsWith=function(e){var t=String(this);if(null==this)throw new TypeError("String.prototype.startsWith called on null or undefined");var n=arguments.length>1?Number(arguments[1]):0;isNaN(n)&&(n=0);var i=Math.min(Math.max(n,0),t.length);return t.indexOf(String(e),n)==i},s.endsWith=function(e){var t=String(this);if(null==this)throw new TypeError("String.prototype.endsWith called on null or undefined");var n=t.length,i=String(e),r=arguments.length>1?Number(arguments[1]):n;isNaN(r)&&(r=0);var o=Math.min(Math.max(r,0),n)-i.length;return!(o<0)&&t.lastIndexOf(i,o)==o},s.contains=function(e){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");var t=String(this),n=arguments.length>1?Number(arguments[1]):0;return isNaN(n)&&(n=0),-1!=t.indexOf(String(e),n)},s.repeat=function(e){if(null==this)throw new TypeError("String.prototype.repeat called on null or undefined");var t=String(this),n=e?Number(e):0;if(isNaN(n)&&(n=0),n<0||n===1/0)throw RangeError();if(1===n)return t;if(0===n)return"";for(var i="";n;)1&n&&(i+=t),(n>>=1)&&(t+=t);return i},r.exports=s},null),l("ES5Array",[],function(e,t,n,i,r,o){var s={};s.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)},r.exports=s},null),l("ie8DontEnum",[],function(e,t,n,i,r,o){var s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","prototypeIsEnumerable","constructor"],a={}.hasOwnProperty,l=function(){};({toString:!0}).propertyIsEnumerable("toString")&&(l=function(e,t){for(var n=0;n<s.length;n++){var i=s[n];a.call(e,i)&&t(i)}}),r.exports=l},null),l("ES5Object",["ie8DontEnum"],function(e,t,n,i,r,o,s){function a(){}var l={}.hasOwnProperty,u={};u.create=function(e){var t=typeof e;if("object"!=t&&"function"!=t)throw new TypeError("Object prototype may only be a Object or null");return a.prototype=e,new a},u.keys=function(e){var t=typeof e;if("object"!=t&&"function"!=t||null===e)throw new TypeError("Object.keys called on non-object");var n=[];for(var i in e)l.call(e,i)&&n.push(i);return s(e,function(e){return n.push(e)}),n},r.exports=u},null),l("ES5Date",[],function(e,t,n,i,r,o){var s={};s.now=function(){return(new Date).getTime()},r.exports=s},null),l("JSON3",[],function(e,t,n,i,r,o){(function(){var e,t,n,i,o,s,a,l,u,c,d,f,p,h,g,m,b,_,v,y,w,x={}.toString,k=r.exports={},E='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',A=new Date(-0xc782b5b800cec);try{A=-109252==A.getUTCFullYear()&&0===A.getUTCMonth()&&1==A.getUTCDate()&&10==A.getUTCHours()&&37==A.getUTCMinutes()&&6==A.getUTCSeconds()&&708==A.getUTCMilliseconds()}catch(e){}if(A||(v=Math.floor,y=[0,31,59,90,120,151,181,212,243,273,304,334],w=function(e,t){return y[t]+365*(e-1970)+v((e-1969+(t=+(t>1)))/4)-v((e-1901+t)/100)+v((e-1601+t)/400)}),"object"==typeof JSON&&JSON&&(k.stringify=JSON.stringify,k.parse=JSON.parse),i="function"==typeof k.stringify&&!w){(A=function(){return 1}).toJSON=A;try{i="0"===k.stringify(0)&&"0"===k.stringify(new Number)&&'""'==k.stringify(new String)&&k.stringify(x)===n&&k.stringify(n)===n&&k.stringify()===n&&"1"===k.stringify(A)&&"[1]"==k.stringify([A])&&"[null]"==k.stringify([n])&&"null"==k.stringify(null)&&"[null,null,null]"==k.stringify([n,x,null])&&k.stringify({result:[A,!0,!1,null,"\0\b\n\f\r\t"]})==E&&"1"===k.stringify(null,A)&&"[\n 1,\n 2\n]"==k.stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==k.stringify(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==k.stringify(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==k.stringify(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==k.stringify(new Date(-1))}catch(e){i=!1}}if("function"==typeof k.parse)try{if(0===k.parse("0")&&!k.parse(!1)&&(A=k.parse(E),u=5==A.A.length&&1==A.A[0])){try{u=!k.parse('"\t"')}catch(e){}if(u)try{u=1!=k.parse("01")}catch(e){}}}catch(e){u=!1}A=E=null,i&&u||((e={}.hasOwnProperty)||(e=function(t){var n,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=x?e=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(n=i.constructor,e=function(e){var t=(this.constructor||n).prototype;return e in this&&!(e in t&&this[e]===t[e])}),i=null,e.call(this,t)}),t=function(t,n){var i,r,o,s,a=0;(i=function(){this.valueOf=0}).prototype.valueOf=0,r=new i;for(o in r)e.call(r,o)&&a++;return i=r=null,a?s=2==a?function(t,n){var i,r={},o="[object Function]"==x.call(t);for(i in t)o&&"prototype"==i||e.call(r,i)||!(r[i]=1)||!e.call(t,i)||n(i)}:function(t,n){var i,r,o="[object Function]"==x.call(t);for(i in t)o&&"prototype"==i||!e.call(t,i)||(r="constructor"===i)||n(i);(r||e.call(t,i="constructor"))&&n(i)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],s=function(t,n){var i,o,s="[object Function]"==x.call(t);for(i in t)s&&"prototype"==i||!e.call(t,i)||n(i);for(o=r.length;i=r[--o];e.call(t,i)&&n(i));}),s(t,n)},i||(o={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},s=function(e,t){return("000000"+(t||0)).slice(-e)},a=function(e){for(var t,n='"',i=0;t=e.charAt(i);i++)n+='\\"\b\f\n\r\t'.indexOf(t)>-1?o[t]:t<" "?"\\u00"+s(2,t.charCodeAt(0).toString(16)):t;return n+'"'},l=function(i,r,o,u,c,d,f){var p,h,g,m,b,_,y,k,E,A,C,S,I,R,N,O=r[i];if("object"==typeof O&&O)if("[object Date]"!=(p=x.call(O))||e.call(O,"toJSON"))"function"==typeof O.toJSON&&("[object Number]"!=p&&"[object String]"!=p&&"[object Array]"!=p||e.call(O,"toJSON"))&&(O=O.toJSON(i));else if(O>-1/0&&O<1/0){if(w){for(m=v(O/864e5),h=v(m/365.2425)+1970-1;w(h+1,0)<=m;h++);for(g=v((m-w(h,0))/30.42);w(h,g+1)<=m;g++);m=1+m-w(h,g),_=v((b=(O%864e5+864e5)%864e5)/36e5)%24,y=v(b/6e4)%60,k=v(b/1e3)%60,E=b%1e3}else h=O.getUTCFullYear(),g=O.getUTCMonth(),m=O.getUTCDate(),_=O.getUTCHours(),y=O.getUTCMinutes(),k=O.getUTCSeconds(),E=O.getUTCMilliseconds();O=(h<=0||h>=1e4?(h<0?"-":"+")+s(6,h<0?-h:h):s(4,h))+"-"+s(2,g+1)+"-"+s(2,m)+"T"+s(2,_)+":"+s(2,y)+":"+s(2,k)+"."+s(3,E)+"Z"}else O=null;if(o&&(O=o.call(r,i,O)),null===O)return"null";if("[object Boolean]"==(p=x.call(O)))return""+O;if("[object Number]"==p)return O>-1/0&&O<1/0?""+O:"null";if("[object String]"==p)return a(O);if("object"==typeof O){for(I=f.length;I--;)if(f[I]===O)throw TypeError();if(f.push(O),A=[],R=d,d+=c,"[object Array]"==p){for(S=0,I=O.length;S<I;N||(N=!0),S++)C=l(S,O,o,u,c,d,f),A.push(C===n?"null":C);return N?c?"[\n"+d+A.join(",\n"+d)+"\n"+R+"]":"["+A.join(",")+"]":"[]"}return t(u||O,function(e){var t=l(e,O,o,u,c,d,f);t!==n&&A.push(a(e)+":"+(c?" ":"")+t),N||(N=!0)}),N?c?"{\n"+d+A.join(",\n"+d)+"\n"+R+"}":"{"+A.join(",")+"}":"{}"}},k.stringify=function(e,t,n){var i,r,o,s,a,u;if("function"==typeof t||"object"==typeof t&&t)if("[object Function]"==x.call(t))r=t;else if("[object Array]"==x.call(t))for(o={},s=0,a=t.length;s<a;u=t[s++],("[object String]"==x.call(u)||"[object Number]"==x.call(u))&&(o[u]=1));if(n)if("[object Number]"==x.call(n)){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else"[object String]"==x.call(n)&&(i=n.length<=10?n:n.slice(0,10));return l("",(u={},u[""]=e,u),r,o,i,"",[])}),u||(c=String.fromCharCode,d={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"},f=function(){throw b=_=null,SyntaxError()},p=function(){for(var e,t,n,i,r,o=_,s=o.length;b<s;)if(e=o.charAt(b),"\t\r\n ".indexOf(e)>-1)b++;else{if("{}[]:,".indexOf(e)>-1)return b++,e;if('"'==e){for(t="@",b++;b<s;)if((e=o.charAt(b))<" ")f();else if("\\"==e)if(e=o.charAt(++b),'\\"/btnfr'.indexOf(e)>-1)t+=d[e],b++;else if("u"==e){for(n=++b,i=b+4;b<i;b++)(e=o.charAt(b))>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"||f();t+=c("0x"+o.slice(n,b))}else f();else{if('"'==e)break;t+=e,b++}if('"'==o.charAt(b))return b++,t;f()}else{if(n=b,"-"==e&&(r=!0,e=o.charAt(++b)),e>="0"&&e<="9"){for("0"==e&&(e=o.charAt(b+1))>="0"&&e<="9"&&f(),r=!1;b<s&&(e=o.charAt(b))>="0"&&e<="9";b++);if("."==o.charAt(b)){for(i=++b;i<s&&(e=o.charAt(i))>="0"&&e<="9";i++);i==b&&f(),b=i}if("e"==(e=o.charAt(b))||"E"==e){for("+"!=(e=o.charAt(++b))&&"-"!=e||b++,i=b;i<s&&(e=o.charAt(i))>="0"&&e<="9";i++);i==b&&f(),b=i}return+o.slice(n,b)}if(r&&f(),"true"==o.slice(b,b+4))return b+=4,!0;if("false"==o.slice(b,b+5))return b+=5,!1;if("null"==o.slice(b,b+4))return b+=4,null;f()}}return"$"},h=function(e){var t,n;if("$"==e&&f(),"string"==typeof e){if("@"==e.charAt(0))return e.slice(1);if("["==e){for(t=[];"]"!=(e=p());n||(n=!0))n&&(","==e?"]"==(e=p())&&f():f()),","==e&&f(),t.push(h(e));return t}if("{"==e){for(t={};"}"!=(e=p());n||(n=!0))n&&(","==e?"}"==(e=p())&&f():f()),","!=e&&"string"==typeof e&&"@"==e.charAt(0)&&":"==p()||f(),t[e.slice(1)]=h(p());return t}f()}return e},m=function(e,t,i){var r=g(e,t,i);r===n?delete e[t]:e[t]=r},g=function(e,n,i){var r,o=e[n];if("object"==typeof o&&o)if("[object Array]"==x.call(o))for(r=o.length;r--;)m(o,r,i);else t(o,function(e){m(o,e,i)});return i.call(e,n,o)},k.parse=function(e,t){b=0,_=e;var n=h(p());return"$"!=p()&&f(),b=_=null,t&&"[object Function]"==x.call(t)?g((A={},A[""]=n,A),"",t):n}))}).call(this)},null),l("ES6Object",["ie8DontEnum"],function(e,t,n,i,r,o,s){var a={}.hasOwnProperty,l={assign:function(e){var t=Array.prototype.slice.call(arguments,1);if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");e=Object(e);for(var n=0;n<t.length;n++){var i=t[n];if(null!=i){i=Object(i);for(var r in i)a.call(i,r)&&(e[r]=i[r]);s(i,function(t){return e[t]=i[t]})}}return e}};r.exports=l},null),l("ES6ArrayPrototype",[],function(e,t,n,i,r,o){var s={find:function(e,t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");var n=s.findIndex.call(this,e,t);return-1===n?void 0:this[n]},findIndex:function(e,t){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=Object(this),i=n.length>>>0,r=0;r<i;r++)if(r in n&&e.call(t,n[r],r,n))return r;return-1}};r.exports=s},null),l("ES6DatePrototype",[],function(e,t,n,i,r,o){function s(e){return(e<10?"0":"")+e}var a={toISOString:function(){if(!isFinite(this))throw new Error("Invalid time value");var e=this.getUTCFullYear();return(e=(e<0?"-":e>9999?"+":"")+("00000"+Math.abs(e)).slice(0<=e&&e<=9999?-4:-6))+"-"+s(this.getUTCMonth()+1)+"-"+s(this.getUTCDate())+"T"+s(this.getUTCHours())+":"+s(this.getUTCMinutes())+":"+s(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}};r.exports=a},null),l("ES6Number",[],function(e,t,n,i,r,o){var s={isFinite:function(e){return"number"==typeof e&&isFinite(e)},isNaN:function(e){return"number"==typeof e&&isNaN(e)}};r.exports=s},null),l("ES",["ES5ArrayPrototype","ES5FunctionPrototype","ES5StringPrototype","ES5Array","ES5Object","ES5Date","JSON3","ES6Object","ES6ArrayPrototype","ES6DatePrototype","ES6Number"],function(t,n,i,r,o,s,a,l,u,c,d,f,p,h,g,m,b){function _(t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n],r=n.split("."),o=2==r.length?e[r[0]][r[1]]:e[n];for(var s in i)if(i.hasOwnProperty(s)){var a=o[s];y[n+"."+s]=a&&/\{\s+\[native code\]\s\}/.test(a)?a:i[s]}}}var v={}.toString,y={"JSON.stringify":p.stringify,"JSON.parse":p.parse},w={Object:h,"Array.prototype":g,"Date.prototype":m,Number:b};_({"Array.prototype":a,"Function.prototype":l,"String.prototype":u,Object:d,Array:c,Date:f}),_(w),o.exports=function(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=n?v.call(e).slice(8,-1)+".prototype":e,o=y[r+"."+t]||e[t];if("function"==typeof o)return o.apply(e,i)}},null);var u=a("ES");l("JSSDKRuntimeConfig",[],{locale:"zh_CN",rtl:!1,revision:"1425205"}),l("JSSDKConfig",[],{bustCache:!0,tagCountLogRate:.01,errorHandling:{rate:4},usePluginPipe:!0,features:{allow_non_canvas_app_events:!1,event_subscriptions_log:{rate:.01,value:1e4},kill_fragment:!0,xfbml_profile_pic_server:!0,error_handling:{rate:4},e2e_ping_tracking:{rate:1e-6},xd_timeout:{rate:4,value:3e4},use_bundle:!0,launch_payment_dialog_via_pac:{rate:100}},api:{mode:"warn",whitelist:["Canvas","Canvas.Prefetcher","Canvas.Prefetcher.addStaticResource","Canvas.Prefetcher.setCollectionMode","Canvas.getPageInfo","Canvas.hideFlashElement","Canvas.scrollTo","Canvas.setAutoGrow","Canvas.setDoneLoading","Canvas.setSize","Canvas.setUrlHandler","Canvas.showFlashElement","Canvas.startTimer","Canvas.stopTimer","Data","Data.process","Data.query","Data.query:wait","Data.waitOn","Data.waitOn:wait","Event","Event.subscribe","Event.unsubscribe","Music.flashCallback","Music.init","Music.send","Payment","Payment.cancelFlow","Payment.continueFlow","Payment.init","Payment.lockForProcessing","Payment.unlockForProcessing","Payment.parse","Payment.setSize","ThirdPartyProvider","ThirdPartyProvider.init","ThirdPartyProvider.sendData","UA","UA.nativeApp","XFBML","XFBML.RecommendationsBar","XFBML.RecommendationsBar.markRead","XFBML.parse","addFriend","api","getAccessToken","getAuthResponse","getLoginStatus","getUserID","init","login","logout","publish","share","ui","ui:subscribe","AppEvents","AppEvents.activateApp","AppEvents.logEvent","AppEvents.logPurchase","AppEvents.EventNames","AppEvents.ParameterNames"]},initSitevars:{enableMobileComments:1,iframePermissions:{read_stream:!1,manage_mailbox:!1,manage_friendlists:!1,read_mailbox:!1,publish_checkins:!0,status_update:!0,photo_upload:!0,video_upload:!0,sms:!1,create_event:!0,rsvp_event:!0,offline_access:!0,email:!0,xmpp_login:!1,create_note:!0,share_item:!0,export_stream:!1,publish_stream:!0,publish_likes:!0,ads_management:!1,contact_email:!0,access_private_data:!1,read_insights:!1,read_requests:!1,read_friendlists:!0,manage_pages:!1,physical_login:!1,manage_groups:!1,read_deals:!1}}}),l("UrlMapConfig",[],{www:"www.facebook.com",m:"m.facebook.com",connect:"connect.facebook.net",business:"business.facebook.com",api_https:"api.facebook.com",api_read_https:"api-read.facebook.com",graph_https:"graph.facebook.com",fbcdn_http:"static.ak.fbcdn.net",fbcdn_https:"fbstatic-a.akamaihd.net",cdn_http:"static.ak.facebook.com",cdn_https:"s-static.ak.facebook.com"}),l("JSSDKXDConfig",[],{XdUrl:"/connect/xd_arbiter.php?version=41",XdBundleUrl:"/connect/xd_arbiter/ZEbdHPQfV3x.js?version=41",Flash:{path:"https://connect.facebook.net/rsrc.php/v1/yR/r/ks_9ZXiQ0GL.swf"},useCdn:!0}),l("JSSDKCssConfig",[],{rules:'.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:25px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:15px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:13px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:13px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:17px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}\n.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}\n.fbpluginrecommendationsbarleft,.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}.fbpluginrecommendationsbarleft{left:10px}.fbpluginrecommendationsbarright{right:10px}',components:["css:fb.css.base","css:fb.css.dialog","css:fb.css.iframewidget","css:fb.css.plugin.recommendationsbar"]}),l("ApiClientConfig",[],{FlashRequest:{swfUrl:"https://connect.facebook.net/rsrc.php/v1/yW/r/PvklbuW2Ycn.swf"}}),l("JSSDKCanvasPrefetcherConfig",[],{blacklist:[0x83d70a64a992],sampleRate:500}),l("JSSDKPluginPipeConfig",[],{threshold:0,enabledApps:{209753825810663:1,187288694643718:1}}),l("QueryString",[],function(e,t,n,i,r,o){var s={encode:function(e){var t=[];return u(u("Object","keys",!1,e).sort(),"forEach",!0,function(n){var i=e[n];void 0!==i&&(null!==i?t.push(encodeURIComponent(n)+"="+encodeURIComponent(i)):t.push(n))}),t.join("&")},decode:function(e,t){var n={};if(""===e)return n;for(var i=e.split("&"),r=0;r<i.length;r++){var o=i[r].split("=",2),s=decodeURIComponent(o[0]);if(t&&n.hasOwnProperty(s))throw new URIError("Duplicate key: "+s);n[s]=2===o.length?decodeURIComponent(o[1]):null}return n},appendToUrl:function(e,t){return e+(~u(e,"indexOf",!0,"?")?"&":"?")+("string"==typeof t?t:s.encode(t))}};r.exports=s},null),l("ManagedError",[],function(e,t,n,i,r,o){function s(e,t){Error.prototype.constructor.call(this,e),this.message=e,this.innerError=t}(s.prototype=new Error).constructor=s,r.exports=s},null),l("AssertionError",["ManagedError"],function(e,t,n,i,r,o,s){function a(e){s.prototype.constructor.apply(this,arguments)}(a.prototype=new s).constructor=a,r.exports=a},null),l("sprintf",[],function(e,t,n,i,r,o){r.exports=function(e){var t=Array.prototype.slice.call(arguments,1),n=0;return e.replace(/%s/g,function(e){return t[n++]})}},null),l("Assert",["AssertionError","sprintf"],function(e,t,n,i,r,o,s,a){function l(e,t){if("boolean"!=typeof e||!e)throw new s(t);return e}function c(e,t,n){var i;if(void 0===t)i="undefined";else if(null===t)i="null";else{var r=Object.prototype.toString.call(t);i=/\s(\w*)/.exec(r)[1].toLowerCase()}return l(-1!==u(e,"indexOf",!0,i),n||a("Expression is of type %s, not %s",i,e)),t}function d(e,t){f["is"+e]=t,f["maybe"+e]=function(e,n){null!=e&&t(e,n)}}var f={isInstanceOf:function(e,t,n){return l(t instanceof e,n||"Expression not instance of type"),t},isTrue:l,isTruthy:function(e,t){return l(!!e,t)},type:c,define:function(e,t){d(e=e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase(),function(e,n){l(t(e),n)})}};u(["Array","Boolean","Date","Function","Null","Number","Object","Regexp","String","Undefined"],"forEach",!0,function(e){d(e,u(c,"bind",!0,null,e.toLowerCase()))}),r.exports=f},null),l("Type",["Assert"],function(e,t,n,i,r,o,s){function a(){var e=this.__mixins;if(e)for(var t=0;t<e.length;t++)e[t].apply(this,arguments)}function l(e,t){if(t instanceof e)return!0;if(t instanceof a)for(var n=0;n<t.__mixins.length;n++)if(t.__mixins[n]==e)return!0;return!1}function c(e,t){var n=e.prototype;u("Array","isArray",!1,t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];"function"==typeof r&&(n.__mixins.push(r),r=r.prototype),u(u("Object","keys",!1,r),"forEach",!0,function(e){n[e]=r[e]})}}function d(e,t,n){var i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){this.parent.apply(this,arguments)};if(s.isFunction(i),e&&e.prototype instanceof a==!1)throw new Error("parent type does not inherit from Type");e=e||a;var r=new Function;return r.prototype=e.prototype,i.prototype=new r,t&&u("Object","assign",!1,i.prototype,t),i.prototype.constructor=i,i.parent=e,i.prototype.__mixins=e.prototype.__mixins?Array.prototype.slice.call(e.prototype.__mixins):[],n&&c(i,n),i.prototype.parent=function(){this.parent=e.prototype.parent,e.apply(this,arguments)},i.prototype.parentCall=function(t){return e.prototype[t].apply(this,Array.prototype.slice.call(arguments,1))},i.extend=function(e,t){return d(this,e,t)},i}u("Object","assign",!1,a.prototype,{instanceOf:function(e){return l(e,this)}}),u("Object","assign",!1,a,{extend:function(e,t){return"function"==typeof e?d.apply(null,arguments):d(null,e,t)},instanceOf:l}),r.exports=a},null),l("ObservableMixin",[],function(e,t,n,r,o,s){function a(){this.__observableEvents={}}a.prototype={inform:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=Array.prototype.slice.call(this.getSubscribers(e)),r=0;r<n.length;r++)if(null!==n[r])try{n[r].apply(this,t)}catch(e){i(function(){throw e},0)}return this},getSubscribers:function(e){return this.__observableEvents[e]||(this.__observableEvents[e]=[])},clearSubscribers:function(e){return e&&(this.__observableEvents[e]=[]),this},clearAllSubscribers:function(){return this.__observableEvents={},this},subscribe:function(e,t){return this.getSubscribers(e).push(t),this},unsubscribe:function(e,t){for(var n=this.getSubscribers(e),i=0;i<n.length;i++)if(n[i]===t){n.splice(i,1);break}return this},monitor:function(e,t){if(!t()){var n=u(function(i){t.apply(t,arguments)&&this.unsubscribe(e,n)},"bind",!0,this);this.subscribe(e,n)}return this}},o.exports=a},null),l("sdk.Model",["Type","ObservableMixin"],function(e,t,n,i,r,o,s,a){var l=s.extend({constructor:function(e){this.parent();var t={},n=this;u(u("Object","keys",!1,e),"forEach",!0,function(i){t[i]=e[i],n["set"+i]=function(e){return e===t[i]?this:(t[i]=e,n.inform(i+".change",e),n)},n["get"+i]=function(){return t[i]}})}},a);r.exports=l},null),l("sdk.Runtime",["sdk.Model","JSSDKRuntimeConfig"],function(t,n,i,r,o,s,a,l){var c={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},d=new a({AccessToken:"",ClientID:"",CookieUserID:"",Environment:c.UNKNOWN,Initialized:!1,IsVersioned:!1,KidDirectedSite:void 0,Locale:l.locale,LoginStatus:void 0,Revision:l.revision,Rtl:l.rtl,Scope:void 0,Secure:void 0,UseCookie:!1,UserID:"",Version:void 0});u("Object","assign",!1,d,{ENVIRONMENTS:c,isEnvironment:function(e){var t=this.getEnvironment();return(e|t)===t},isCanvasEnvironment:function(){return this.isEnvironment(c.CANVAS)||this.isEnvironment(c.PAGETAB)}}),function(){var t=/app_runner/.test(e.name)?c.PAGETAB:/iframe_canvas/.test(e.name)?c.CANVAS:c.UNKNOWN;(t|c.PAGETAB)===t&&(t|=c.CANVAS),d.setEnvironment(t)}(),o.exports=d},null),l("sdk.Cookie",["QueryString","sdk.Runtime"],function(e,t,i,r,o,s,a,l){function u(e,t,i){e+=l.getClientID();var r=d&&"."!==d;r&&(n.cookie=e+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;",n.cookie=e+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;domain="+location.hostname+";");var o=new Date(i).toGMTString();n.cookie=e+"="+t+(t&&0===i?"":"; expires="+o)+"; path=/"+(r?"; domain="+d:"")}function c(e){return e+=l.getClientID(),new RegExp("\\b"+e+"=([^;]*)\\b").test(n.cookie)?RegExp.$1:null}var d=null,f={setDomain:function(e){d=e;var t=a.encode({base_domain:d&&"."!==d?d:""}),n=new Date;n.setFullYear(n.getFullYear()+1),u("fbm_",t,n.getTime())},getDomain:function(){return d},loadMeta:function(){var e=c("fbm_");if(e){var t=a.decode(e);return d||(d=t.base_domain),t}},loadSignedRequest:function(){return c("fbsr_")},setSignedRequestCookie:function(e,t){if(!e)throw new Error("Value passed to Cookie.setSignedRequestCookie was empty.");u("fbsr_",e,t)},clearSignedRequestCookie:function(){u("fbsr_","",0)},setRaw:u};o.exports=f},null),l("guid",[],function(e,t,n,i,r,o){r.exports=function(){return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")}},null),l("UserAgent_DEPRECATED",[],function(e,t,i,r,o,s){function a(){if(!k){k=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),i=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(v=/\b(iPhone|iP[ao]d)/.exec(e),y=/\b(iP[ao]d)/.exec(e),b=/Android/i.exec(e),w=/FBAN\/\w+;/i.exec(e),x=/Mobile/i.exec(e),_=!!/Win64/.exec(e),t){(l=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&n&&n.documentMode&&(l=n.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);p=r?parseFloat(r[1])+4:l,u=t[2]?parseFloat(t[2]):NaN,c=t[3]?parseFloat(t[3]):NaN,(d=t[4]?parseFloat(t[4]):NaN)?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),f=t&&t[1]?parseFloat(t[1]):NaN):f=NaN}else l=u=c=f=d=NaN;if(i){if(i[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);h=!o||parseFloat(o[1].replace("_","."))}else h=!1;g=!!i[2],m=!!i[3]}else h=g=m=!1}}var l,u,c,d,f,p,h,g,m,b,_,v,y,w,x,k=!1,E={ie:function(){return a()||l},ieCompatibilityMode:function(){return a()||p>l},ie64:function(){return E.ie()&&_},firefox:function(){return a()||u},opera:function(){return a()||c},webkit:function(){return a()||d},safari:function(){return E.webkit()},chrome:function(){return a()||f},windows:function(){return a()||g},osx:function(){return a()||h},linux:function(){return a()||m},iphone:function(){return a()||v},mobile:function(){return a()||v||y||b||x},nativeApp:function(){return a()||w},android:function(){return a()||b},ipad:function(){return a()||y}};o.exports=E},null),l("hasNamePropertyBug",["guid","UserAgent_DEPRECATED"],function(e,t,i,r,o,s,a,l){function u(){var e=n.createElement("form"),t=e.appendChild(n.createElement("input"));return t.name=a(),c=t!==e.elements[t.name],e=t=null,c}var c=!!l.ie()&&void 0;o.exports=function(){return void 0===c?u():c}},null),l("wrapFunction",[],function(e,t,n,i,r,o){function s(e,t,n){return t=t||"default",function(){return(t in a?a[t](e,n):e).apply(this,arguments)}}var a={};s.setWrapper=function(e,t){a[t=t||"default"]=e},r.exports=s},null),l("DOMEventListener",["wrapFunction"],function(t,n,i,r,o,s,a){var l,u;e.addEventListener?(l=function(e,t,n){n.wrapper=a(n,"entry","DOMEventListener.add "+t),e.addEventListener(t,n.wrapper,!1)},u=function(e,t,n){e.removeEventListener(t,n.wrapper,!1)}):e.attachEvent?(l=function(e,t,n){n.wrapper=a(n,"entry","DOMEventListener.add "+t),e.attachEvent("on"+t,n.wrapper)},u=function(e,t,n){e.detachEvent("on"+t,n.wrapper)}):u=l=function(){};var c={add:function(e,t,n){return l(e,t,n),{remove:function(){u(e,t,n),e=null}}},remove:u};o.exports=c},null),l("sdk.createIframe",["guid","hasNamePropertyBug","DOMEventListener"],function(e,t,i,r,o,s,a,l,c){o.exports=function(e){var t,i=(e=u("Object","assign",!1,{},e)).name||a(),r=e.root,o=e.style||{border:"none"},s=e.url,d=e.onload,f=e.onerror;l()?t=n.createElement('<iframe name="'+i+'"/>'):(t=n.createElement("iframe")).name=i,delete e.style,delete e.name,delete e.url,delete e.root,delete e.onload,delete e.onerror;var p=u("Object","assign",!1,{frameBorder:0,allowTransparency:!0,scrolling:"no"},e);p.width&&(t.width=p.width+"px"),p.height&&(t.height=p.height+"px"),delete p.height,delete p.width;for(var h in p)p.hasOwnProperty(h)&&t.setAttribute(h,p[h]);if(u("Object","assign",!1,t.style,o),t.src="javascript:false",r.appendChild(t),d)var g=c.add(t,"load",function(){g.remove(),d()});if(f)var m=c.add(t,"error",function(){m.remove(),f()});return t.src=s,t}},null),l("DOMWrapper",[],function(e,i,r,o,s,a){var l,u,c={setRoot:function(e){l=e},getRoot:function(){return l||n.body},setWindow:function(e){u=e},getWindow:function(){return u||t}};s.exports=c},null),l("sdk.feature",["JSSDKConfig"],function(e,t,n,i,r,o,s){r.exports=function(e,t){if(s.features&&e in s.features){var n=s.features[e];return"object"==typeof n&&"number"==typeof n.rate?n.rate&&100*Math.random()<=n.rate?n.value||!0:!!n.value&&null:n}return void 0!==t?t:null}},null),l("sdk.getContextType",["UserAgent_DEPRECATED","sdk.Runtime"],function(e,t,n,i,r,o,s,a){r.exports=function(){return s.nativeApp()?3:s.mobile()?2:a.isEnvironment(a.ENVIRONMENTS.CANVAS)?5:1}},null),l("sdk.domReady",[],function(t,r,o,s,a,l){function u(){if(c){for(var e;e=c.shift();)e();c=null}}var c;if(!("readyState"in n?/loaded|complete/.test(n.readyState):!!n.body)&&(c=[],n.addEventListener?(n.addEventListener("DOMContentLoaded",u,!1),e.addEventListener("load",u,!1)):n.attachEvent&&(n.attachEvent("onreadystatechange",u),e.attachEvent("onload",u)),n.documentElement.doScroll&&e==e.top)){var d=function(){try{n.documentElement.doScroll("left")}catch(e){return void i(d,0)}u()};d()}a.exports=function(e){c?c.push(e):e()}},3),l("Log",["sprintf"],function(t,n,i,r,o,s,a){function l(t,n){var i=Array.prototype.slice.call(arguments,2),r=a.apply(null,i),o=e.console;o&&d.level>=n&&o[t in o?t:"log"](r)}var c={DEBUG:3,INFO:2,WARNING:1,ERROR:0},d={level:-1,Level:c,debug:u(l,"bind",!0,null,"debug",c.DEBUG),info:u(l,"bind",!0,null,"info",c.INFO),warn:u(l,"bind",!0,null,"warn",c.WARNING),error:u(l,"bind",!0,null,"error",c.ERROR)};o.exports=d},null),l("sdk.Content",["sdk.domReady","Log","UserAgent_DEPRECATED"],function(e,t,i,r,o,s,a,l,u){var c,d={append:function(e,t){if(t||(c?t=c:(c=t=n.getElementById("fb-root"),t||(l.warn('The "fb-root" div has not been created, auto-creating'),c=t=n.createElement("div"),t.id="fb-root",u.ie()||!n.body?a(function(){n.body.appendChild(t)}):n.body.appendChild(t)),t.className+=" fb_reset")),"string"==typeof e){var i=n.createElement("div");return t.appendChild(i).innerHTML=e,i}return t.appendChild(e)},appendHidden:function(e){if(!t){var t=n.createElement("div"),i=t.style;i.position="absolute",i.top="-10000px",i.width=i.height=0,t=d.append(t)}return d.append(e,t)},submitToTarget:function(e,t){var i=n.createElement("form");i.action=e.url,i.target=e.target,i.method=t?"GET":"POST",d.appendHidden(i);for(var r in e.params)if(e.params.hasOwnProperty(r)){var o=e.params[r];if(null!==o&&void 0!==o){var s=n.createElement("input");s.name=r,s.value=o,i.appendChild(s)}}i.submit(),i.parentNode.removeChild(i)}};o.exports=d},null),l("dotAccess",[],function(e,t,n,i,r,o){r.exports=function(e,t,n){var i=t.split(".");do{var r=i.shift();e=e[r]||n&&(e[r]={})}while(i.length&&e);return e}},null),l("GlobalCallback",["DOMWrapper","dotAccess","guid","wrapFunction"],function(e,t,n,i,r,o,s,a,l,u){var c,d,f={setPrefix:function(e){c=a(s.getWindow(),e,!0),d=e},create:function(e,t){c||this.setPrefix("__globalCallbacks");var n=l();return c[n]=u(e,"entry",t||"GlobalCallback"),d+"."+n},remove:function(e){var t=e.substring(d.length+1);delete c[t]}};r.exports=f},null),l("insertIframe",["guid","GlobalCallback"],function(e,t,r,o,s,a,l,u){s.exports=function(e){e.id=e.id||l(),e.name=e.name||l();var t=!1,r=!1,o=function(){t&&!r&&(r=!0,e.onload&&e.onload(e.root.firstChild))},s=u.create(o);if(n.attachEvent){var a='<iframe id="'+e.id+'" name="'+e.name+'"'+(e.title?' title="'+e.title+'"':"")+(e.className?' class="'+e.className+'"':"")+' style="border:none;'+(e.width?"width:"+e.width+"px;":"")+(e.height?"height:"+e.height+"px;":"")+'" src="javascript:false;" frameborder="0" scrolling="no" allowtransparency="true" onload="'+s+'()"></iframe>';e.root.innerHTML='<iframe src="javascript:false" frameborder="0" scrolling="no" style="height:1px"></iframe>',t=!0,i(function(){e.root.innerHTML=a,e.root.firstChild.src=e.url,e.onInsert&&e.onInsert(e.root.firstChild)},0)}else{var c=n.createElement("iframe");c.id=e.id,c.name=e.name,c.onload=o,c.scrolling="no",c.style.border="none",c.style.overflow="hidden",e.title&&(c.title=e.title),e.className&&(c.className=e.className),void 0!==e.height&&(c.style.height=e.height+"px"),void 0!==e.width&&("100%"==e.width?c.style.width=e.width:c.style.width=e.width+"px"),e.root.appendChild(c),t=!0,c.src=e.url,e.onInsert&&e.onInsert(c)}}},null),l("Miny",[],function(e,t,n,i,r,o){function s(e){for(var t=l.encode.length;t<e;t++){var n=t.toString(32).split("");n[n.length-1]=c[parseInt(n[n.length-1],32)],n=n.join(""),l.encode[t]=n,l.decode[n]=t}return l}var a="Miny1",l={encode:[],decode:{}},c="wxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split(""),d={encode:function(e){if(/^$|[~\\]|__proto__/.test(e))return e;for(var t=e.match(/\w+|\W+/g),n={},i=0;i<t.length;i++)n[t[i]]=(n[t[i]]||0)+1;var r=u("Object","keys",!1,n);r.sort(function(e,t){return n[e]<n[t]?1:n[t]<n[e]?-1:0});var o=s(r.length).encode;for(i=0;i<r.length;i++)n[r[i]]=o[i];var l=[];for(i=0;i<t.length;i++)l[i]=n[t[i]];return[a,r.length].concat(r).concat(l.join("")).join("~")},decode:function(e){var t=e.split("~");if(t.shift()!=a)return e;var n=parseInt(t.shift(),10),i=t.pop();i=i.match(/[0-9a-v]*[\-w-zA-Z_]/g);for(var r=t,o=s(n).decode,l=[],u=0;u<i.length;u++)l[u]=r[o[i[u]]];return l.join("")}};r.exports=d},null),l("UrlMap",["UrlMapConfig"],function(e,t,n,i,r,o,s){var a={resolve:function(e,t){var n=void 0===t?location.protocol.replace(":",""):t?"https":"http";return e in s?n+"://"+s[e]:void 0===t&&e+"_"+n in s?n+"://"+s[e+"_"+n]:!0!==t&&e+"_http"in s?"http://"+s[e+"_http"]:!1!==t&&e+"_https"in s?"https://"+s[e+"_https"]:void 0}};r.exports=a},null),l("sdk.Impressions",["sdk.Content","guid","insertIframe","Miny","QueryString","sdk.Runtime","UrlMap"],function(e,t,n,i,r,o,s,a,l,c,d,f,p){function h(e){var t=f.getClientID();!e.api_key&&t&&(e.api_key=t),e.kid_directed_site=f.getKidDirectedSite();var n=p.resolve("www",!0)+"/impression.php/"+a()+"/",i=d.appendToUrl(n,e);if(i.length>2e3&&e.payload&&"string"==typeof e.payload){var r=c.encode(e.payload);r&&r.length<e.payload.length&&(e.payload=r,i=d.appendToUrl(n,e))}if(i.length<=2e3)(new Image).src=i;else{var o=a(),u=s.appendHidden("");l({url:"javascript:false",root:u,name:o,className:"fb_hidden fb_invisible",onload:function(){u.parentNode.removeChild(u)}}),s.submitToTarget({url:n,target:o,params:e})}}var g={log:function(e,t){t.source||(t.source="jssdk"),h({lid:e,payload:u("JSON","stringify",!1,t)})},impression:h};r.exports=g},null),l("Base64",[],function(e,t,n,i,r,o){function s(e){return e=e.charCodeAt(0)<<16|e.charCodeAt(1)<<8|e.charCodeAt(2),String.fromCharCode(l.charCodeAt(e>>>18),l.charCodeAt(e>>>12&63),l.charCodeAt(e>>>6&63),l.charCodeAt(63&e))}function a(e){return e=c.charCodeAt(e.charCodeAt(0)-43)<<18|c.charCodeAt(e.charCodeAt(1)-43)<<12|c.charCodeAt(e.charCodeAt(2)-43)<<6|c.charCodeAt(e.charCodeAt(3)-43),String.fromCharCode(e>>>16,e>>>8&255,255&e)}var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=">___?456789:;<=_______\0\b\t\n\v\f\r______ !\"#$%&'()*+,-./0123",d={encode:function(e){var t=((e=unescape(encodeURI(e))).length+2)%3;return(e=(e+"\0\0".slice(t)).replace(/[\s\S]{3}/g,s)).slice(0,e.length+t-2)+"==".slice(t)},decode:function(e){var t=(e=e.replace(/[^A-Za-z0-9+\/]/g,"")).length+3&3;e=(e=(e+"AAA".slice(t)).replace(/..../g,a)).slice(0,e.length+t-3);try{return decodeURIComponent(escape(e))}catch(e){throw new Error("Not valid UTF-8")}},encodeObject:function(e){return d.encode(u("JSON","stringify",!1,e))},decodeObject:function(e){return u("JSON","parse",!1,d.decode(e))},encodeNums:function(e){return String.fromCharCode.apply(String,u(e,"map",!0,function(e){return l.charCodeAt((e|-(e>63))&-(e>0)&63)}))}};r.exports=d},null),l("sdk.SignedRequest",["Base64"],function(e,t,n,i,r,o,s){var a={parse:function(e){if(!e)return null;var t=e.split(".",2)[1].replace(/\-/g,"+").replace(/\_/g,"/");return s.decodeObject(t)}};r.exports=a},null),l("URIRFC3986",[],function(e,t,n,i,r,o){var s=new RegExp("^([^:/?#]+:)?(//([^\\\\/?#@]*@)?(\\[[A-Fa-f0-9:.]+\\]|[^\\/?#:]*)(:[0-9]*)?)?([^?#]*)(\\?[^#]*)?(#.*)?"),a={parse:function(e){if(""===u(e,"trim",!0))return null;var t=e.match(s),n={};return n.uri=t[0]?t[0]:null,n.scheme=t[1]?t[1].substr(0,t[1].length-1):null,n.authority=t[2]?t[2].substr(2):null,n.userinfo=t[3]?t[3].substr(0,t[3].length-1):null,n.host=t[2]?t[4]:null,n.port=t[5]&&t[5].substr(1)?parseInt(t[5].substr(1),10):null,n.path=t[6]?t[6]:null,n.query=t[7]?t[7].substr(1):null,n.fragment=t[8]?t[8].substr(1):null,n.isGenericURI=null===n.authority&&!!n.scheme,n}};r.exports=a},null),l("createObjectFrom",[],function(e,t,n,i,r,o){r.exports=function(e,t){var n={},i=u("Array","isArray",!1,t);void 0===t&&(t=!0);for(var r=e.length;r--;)n[e[r]]=i?t[r]:t;return n}},null),l("URISchemes",["createObjectFrom"],function(e,t,n,i,r,o,s){var a=s(["fb","fbcf","fbconnect","fb-messenger","fbrpc","file","ftp","http","https","mailto","ms-app","itms","itms-apps","itms-services","market","svn+ssh","fbstaging","tel","sms"]),l={isAllowed:function(e){return!e||a.hasOwnProperty(e.toLowerCase())}};r.exports=l},null),l("copyProperties",[],function(e,t,n,i,r,o){r.exports=function(e,t,n,i,r,o,s){e=e||{};for(var a,l=[t,n,i,r,o],u=0;l[u];){a=l[u++];for(var c in a)e[c]=a[c];a.hasOwnProperty&&a.hasOwnProperty("toString")&&void 0!==a.toString&&e.toString!==a.toString&&(e.toString=a.toString)}return e}},null),l("eprintf",[],function(e,t,n,i,r,o){var s=function(e){var t=u(Array.prototype.slice.call(arguments),"map",!0,function(e){return String(e)});if(e.split("%s").length-1!==t.length-1)return s("eprintf args number mismatch: %s",u("JSON","stringify",!1,t));var n=1;return e.replace(/%s/g,function(e){return String(t[n++])})};r.exports=s},null),l("ex",["eprintf"],function(e,t,n,i,r,o,s){var a=function(){var e=Array.prototype.slice.call(arguments,0);return(e=u(e,"map",!0,function(e){return String(e)}))[0].split("%s").length!==e.length?a("ex args number mismatch: %s",u("JSON","stringify",!1,e)):a._prefix+u("JSON","stringify",!1,e)+a._suffix};a._prefix="<![EX[",a._suffix="]]>",r.exports=a},null),l("invariant",[],function(e,t,n,i,r,o){"use strict";r.exports=function(e,t,n,i,r,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,s,a],c=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return u[c++]}))}throw l.framesToPop=1,l}}},null),l("URIBase",["URIRFC3986","URISchemes","copyProperties","ex","invariant"],function(e,t,n,i,r,o,s,a,l,c,d){function f(e,t,n,i){if(!t)return!0;if(t instanceof p)return e.setProtocol(t.getProtocol()),e.setDomain(t.getDomain()),e.setPort(t.getPort()),e.setPath(t.getPath()),e.setQueryData(i.deserialize(i.serialize(t.getQueryData()))),e.setFragment(t.getFragment()),e.setForceFragmentSeparator(t.getForceFragmentSeparator()),!0;t=u(t.toString(),"trim",!0);var r=s.parse(t)||{};if(!n&&!a.isAllowed(r.scheme))return!1;if(e.setProtocol(r.scheme||""),!n&&h.test(r.host))return!1;if(e.setDomain(r.host||""),e.setPort(r.port||""),e.setPath(r.path||""),n)e.setQueryData(i.deserialize(r.query)||{});else try{e.setQueryData(i.deserialize(r.query)||{})}catch(e){return!1}if(e.setFragment(r.fragment||""),""===r.fragment&&e.setForceFragmentSeparator(!0),null!==r.userinfo){if(n)throw new Error(c("URI.parse: invalid URI (userinfo is not allowed in a URI): %s",e.toString()));return!1}if(!e.getDomain()&&-1!==u(e.getPath(),"indexOf",!0,"\\")){if(n)throw new Error(c("URI.parse: invalid URI (no domain but multiple back-slashes): %s",e.toString()));return!1}if(!e.getProtocol()&&g.test(t)){if(n)throw new Error(c("URI.parse: invalid URI (unsafe protocol-relative URLs): %s",e.toString()));return!1}return!0}function p(e,t){"use strict";d(t),this.$URIBase0=t,this.$URIBase1="",this.$URIBase2="",this.$URIBase3="",this.$URIBase4="",this.$URIBase5="",this.$URIBase6={},this.$URIBase7=!1,f(this,e,!0,t)}var h=new RegExp("[\\x00-\\x2c\\x2f\\x3b-\\x40\\x5c\\x5e\\x60\\x7b-\\x7f\\uFDD0-\\uFDEF\\uFFF0-\\uFFFF\\u2047\\u2048\\uFE56\\uFE5F\\uFF03\\uFF0F\\uFF1F]"),g=new RegExp("^(?:[^/]*:|[\\x00-\\x1f]*/[\\x00-\\x1f]*/)");p.prototype.setProtocol=function(e){"use strict";return d(a.isAllowed(e)),this.$URIBase1=e,this},p.prototype.getProtocol=function(e){"use strict";return this.$URIBase1},p.prototype.setSecure=function(e){"use strict";return this.setProtocol(e?"https":"http")},p.prototype.isSecure=function(){"use strict";return"https"===this.getProtocol()},p.prototype.setDomain=function(e){"use strict";if(h.test(e))throw new Error(c("URI.setDomain: unsafe domain specified: %s for url %s",e,this.toString()));return this.$URIBase2=e,this},p.prototype.getDomain=function(){"use strict";return this.$URIBase2},p.prototype.setPort=function(e){"use strict";return this.$URIBase3=e,this},p.prototype.getPort=function(){"use strict";return this.$URIBase3},p.prototype.setPath=function(e){"use strict";return this.$URIBase4=e,this},p.prototype.getPath=function(){"use strict";return this.$URIBase4},p.prototype.addQueryData=function(e,t){"use strict";return"[object Object]"===Object.prototype.toString.call(e)?l(this.$URIBase6,e):this.$URIBase6[e]=t,this},p.prototype.setQueryData=function(e){"use strict";return this.$URIBase6=e,this},p.prototype.getQueryData=function(){"use strict";return this.$URIBase6},p.prototype.removeQueryData=function(e){"use strict";u("Array","isArray",!1,e)||(e=[e]);for(var t=0,n=e.length;t<n;++t)delete this.$URIBase6[e[t]];return this},p.prototype.setFragment=function(e){"use strict";return this.$URIBase5=e,this.setForceFragmentSeparator(!1),this},p.prototype.getFragment=function(){"use strict";return this.$URIBase5},p.prototype.setForceFragmentSeparator=function(e){"use strict";return this.$URIBase7=e,this},p.prototype.getForceFragmentSeparator=function(){"use strict";return this.$URIBase7},p.prototype.isEmpty=function(){"use strict";return!(this.getPath()||this.getProtocol()||this.getDomain()||this.getPort()||u("Object","keys",!1,this.getQueryData()).length>0||this.getFragment())},p.prototype.toString=function(){"use strict";var e="";this.$URIBase1&&(e+=this.$URIBase1+"://"),this.$URIBase2&&(e+=this.$URIBase2),this.$URIBase3&&(e+=":"+this.$URIBase3),this.$URIBase4?e+=this.$URIBase4:e&&(e+="/");var t=this.$URIBase0.serialize(this.$URIBase6);return t&&(e+="?"+t),this.$URIBase5?e+="#"+this.$URIBase5:this.$URIBase7&&(e+="#"),e},p.prototype.getOrigin=function(){"use strict";return this.$URIBase1+"://"+this.$URIBase2+(this.$URIBase3?":"+this.$URIBase3:"")},p.isValidURI=function(e,t){return f(new p(null,t),e,!1,t)},r.exports=p},null),l("sdk.URI",["Assert","QueryString","URIBase"],function(e,t,n,i,r,o,s,a,l){function c(e){"use strict";if(s.isString(e,"The passed argument was of invalid type."),!(this instanceof c))return new c(e);l.call(this,e,f)}var d=/\.facebook\.com$/,f={serialize:function(e){return e?a.encode(e):""},deserialize:function(e){return e?a.decode(e):{}}};for(var p in l)l.hasOwnProperty(p)&&(c[p]=l[p]);var h=null===l?null:l.prototype;c.prototype=u("Object","create",!1,h),c.prototype.constructor=c,c.__superConstructor__=l,c.prototype.isFacebookURI=function(){"use strict";return d.test(this.getDomain())},c.prototype.valueOf=function(){"use strict";return this.toString()},r.exports=c},null),l("sdk.Event",[],function(e,t,n,i,r,o){var s={SUBSCRIBE:"event.subscribe",UNSUBSCRIBE:"event.unsubscribe",subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},subscribe:function(e,t){var n=this.subscribers();n[e]?-1==u(n[e],"indexOf",!0,t)&&n[e].push(t):n[e]=[t],e!=this.SUBSCRIBE&&e!=this.UNSUBSCRIBE&&this.fire(this.SUBSCRIBE,e,n[e])},unsubscribe:function(e,t){var n=this.subscribers()[e];n&&u(n,"forEach",!0,function(e,i){e==t&&n.splice(i,1)}),e!=this.SUBSCRIBE&&e!=this.UNSUBSCRIBE&&this.fire(this.UNSUBSCRIBE,e,n)},monitor:function(e,t){if(!t()){var n=this,i=function(){t.apply(t,arguments)&&n.unsubscribe(e,i)};this.subscribe(e,i)}},clear:function(e){delete this.subscribers()[e]},fire:function(e){var t=Array.prototype.slice.call(arguments,1),n=this.subscribers()[e];n&&u(n,"forEach",!0,function(e){e&&e.apply(this,t)})}};r.exports=s},null),l("Queue",["copyProperties"],function(e,t,n,r,s,a,l){function c(e){"use strict";this._opts=l({interval:0,processor:null},e),this._queue=[],this._stopped=!0}var d={};c.prototype._dispatch=function(e){"use strict";if(!this._stopped&&0!==this._queue.length){if(!this._opts.processor)throw this._stopped=!0,new Error("No processor available");if(this._opts.interval)this._opts.processor.call(this,this._queue.shift()),this._timeout=i(u(this._dispatch,"bind",!0,this),this._opts.interval);else for(;this._queue.length;)this._opts.processor.call(this,this._queue.shift())}},c.prototype.enqueue=function(e){"use strict";return this._opts.processor&&!this._stopped?this._opts.processor.call(this,e):this._queue.push(e),this},c.prototype.start=function(e){"use strict";return e&&(this._opts.processor=e),this._stopped=!1,this._dispatch(),this},c.prototype.isStarted=function(){"use strict";return!this._stopped},c.prototype.dispatch=function(){"use strict";this._dispatch(!0)},c.prototype.stop=function(e){"use strict";return this._stopped=!0,e&&o(this._timeout),this},c.prototype.merge=function(e,t){"use strict";return this._queue[t?"unshift":"push"].apply(this._queue,e._queue),e._queue=[],this._dispatch(),this},c.prototype.getLength=function(){"use strict";return this._queue.length},c.get=function(e,t){"use strict";return e in d?d[e]:d[e]=new c(t)},c.exists=function(e){"use strict";return e in d},c.remove=function(e){"use strict";return delete d[e]},s.exports=c},null),l("JSONRPC",["Log"],function(e,t,n,r,o,s,a){function l(e){"use strict";this.$JSONRPC0=0,this.$JSONRPC1={},this.remote=u(function(e){return this.$JSONRPC2=e,this.remote},"bind",!0,this),this.local={},this.$JSONRPC3=e}l.prototype.stub=function(e){"use strict";this.remote[e]=u(function(){var t=Array.prototype.slice.call(arguments,0),n={jsonrpc:"2.0",method:e};"function"==typeof t[t.length-1]&&(n.id=++this.$JSONRPC0,this.$JSONRPC1[n.id]=t.pop()),n.params=t,this.$JSONRPC3(u("JSON","stringify",!1,n),this.$JSONRPC2||{method:e})},"bind",!0,this)},l.prototype.read=function(e,t){"use strict";var n=u("JSON","parse",!1,e),r=n.id;if(!n.method){if(!this.$JSONRPC1[r])return void a.warn("Could not find callback %s",r);var o=this.$JSONRPC1[r];return delete this.$JSONRPC1[r],delete n.id,delete n.jsonrpc,void o(n)}var s,l=this,c=this.local[n.method];if(s=r?function(e,n){var o={jsonrpc:"2.0",id:r};o[e]=n,i(function(){l.$JSONRPC3(u("JSON","stringify",!1,o),t)},0)}:function(){},!c)return a.error('Method "%s" has not been defined',n.method),void s("error",{code:-32601,message:"Method not found",data:n.method});n.params.push(u(s,"bind",!0,null,"result")),n.params.push(u(s,"bind",!0,null,"error"));try{var d=c.apply(t||null,n.params);void 0!==d&&s("result",d)}catch(e){a.error("Invokation of RPC method %s resulted in the error: %s",n.method,e.message),s("error",{code:-32603,message:"Internal error",data:e.message})}},o.exports=l},null),l("sdk.RPC",["Assert","JSONRPC","Queue"],function(e,t,n,i,r,o,s,a,l){var c=new l,d=new a(function(e){c.enqueue(e)}),f={local:d.local,remote:d.remote,stub:u(d.stub,"bind",!0,d),setInQueue:function(e){s.isInstanceOf(l,e),e.start(function(e){d.read(e)})},getOutQueue:function(){return c}};r.exports=f},null),l("sdk.Scribe",["QueryString","sdk.Runtime","UrlMap"],function(e,t,n,i,r,o,s,a,l){var c={log:function(e,t){"object"==typeof t.extra&&(t.extra.revision=a.getRevision()),(new Image).src=s.appendToUrl(l.resolve("www",!0)+"/common/scribe_endpoint.php",{c:e,m:u("JSON","stringify",!1,t)})}};r.exports=c},null),l("emptyFunction",["copyProperties"],function(e,t,n,i,r,o,s){function a(e){return function(){return e}}function l(){}s(l,{thatReturns:a,thatReturnsFalse:a(!1),thatReturnsTrue:a(!0),thatReturnsNull:a(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(e){return e}}),r.exports=l},null),l("htmlSpecialChars",[],function(e,t,n,i,r,o){var s=/&/g,a=/</g,l=/>/g,u=/"/g,c=/'/g;r.exports=function(e){return void 0!==e&&null!==e&&e.toString?!1===e?"0":!0===e?"1":e.toString().replace(s,"&amp;").replace(u,"&quot;").replace(c,"&#039;").replace(a,"&lt;").replace(l,"&gt;"):""}},null),l("Flash",["DOMEventListener","DOMWrapper","QueryString","UserAgent_DEPRECATED","copyProperties","guid","htmlSpecialChars"],function(t,n,i,r,o,s,a,l,u,c,d,f,p){function h(e){var t=y.getElementById(e);t&&t.parentNode.removeChild(t),delete v[e]}function g(){for(var e in v)v.hasOwnProperty(e)&&h(e)}function m(e){return e.replace(/\d+/g,function(e){return"000".substring(e.length)+e})}function b(t){_||(c.ie()>=9&&a.add(e,"unload",g),_=!0),v[t]=t}var _,v={},y=l.getWindow().document,w={embed:function(e,t,n,i){var r=f();e=p(e).replace(/&amp;/g,"&"),"object"==typeof(n=d({allowscriptaccess:"always",flashvars:i,movie:e},n||{})).flashvars&&(n.flashvars=u.encode(n.flashvars));var o=[];for(var s in n)n.hasOwnProperty(s)&&n[s]&&o.push('<param name="'+p(s)+'" value="'+p(n[s])+'">');var a=t.appendChild(y.createElement("span")),l="<object "+(c.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+e+'" '+(n.height?'height="'+n.height+'" ':"")+(n.width?'width="'+n.width+'" ':"")+'id="'+r+'">'+o.join("")+"</object>";a.innerHTML=l;var h=a.firstChild;return b(r),h},remove:h,getVersion:function(){var e,t="Shockwave Flash",n="application/x-shockwave-flash";if(navigator.plugins&&"object"==typeof navigator.plugins[t]){var i=navigator.plugins[t].description;i&&navigator.mimeTypes&&navigator.mimeTypes[n]&&navigator.mimeTypes[n].enabledPlugin&&(e=i.match(/\d+/g))}if(!e)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),e=Array.prototype.slice.call(e,1)}catch(e){}return e},checkMinVersion:function(e){var t=w.getVersion();return!!t&&m(t.join("."))>=m(e)},isAvailable:function(){return!!w.getVersion()}};o.exports=w},null),l("XDM",["DOMEventListener","DOMWrapper","emptyFunction","Flash","GlobalCallback","guid","Log","UserAgent_DEPRECATED","wrapFunction"],function(e,t,n,r,s,a,l,u,c,d,f,p,h,g,m){function b(e){for(var t={},n=e.length,i=v.transports;n--;)t[e[n]]=1;for(n=i.length;n--;){var r=i[n],o=_[r];if(!t[r]&&o.isAvailable())return r}}var _={},v={transports:[]},y=u.getWindow(),w={register:function(e,t){h.debug("Registering %s as XDM provider",e),v.transports.push(e),_[e]=t},create:function(e){if(!e.whenReady&&!e.onMessage)throw h.error("An instance without whenReady or onMessage makes no sense"),new Error("An instance without whenReady or onMessage makes no sense");e.channel||(h.warn("Missing channel name, selecting at random"),e.channel=p()),e.whenReady||(e.whenReady=c),e.onMessage||(e.onMessage=c);var t=e.transport||b(e.blacklist||[]),n=_[t];if(n&&n.isAvailable())return h.debug("%s is available",t),n.init(e),t}};w.register("flash",function(){var e,t,n=!1;return{isAvailable:function(){return d.checkMinVersion("8.0.24")},init:function(r){h.debug("init flash: "+r.channel);var s={send:function(t,n,i,r){h.debug("sending to: %s (%s)",n,r),e.postMessage(t,n,r)}};if(n)r.whenReady(s);else{var a=r.root.appendChild(y.document.createElement("div")),l=f.create(function(){f.remove(l),o(t),h.info("xdm.swf called the callback");var n=f.create(function(e,t){e=decodeURIComponent(e),t=decodeURIComponent(t),h.debug("received message %s from %s",e,t),r.onMessage(e,t)},"xdm.swf:onMessage");e.init(r.channel,n),r.whenReady(s)},"xdm.swf:load");e=d.embed(r.flashUrl,a,null,{protocol:location.protocol.replace(":",""),host:location.host,callback:l,log:!1}),t=i(function(){h.warn("The Flash component did not load within %s ms - verify that the container is not set to hidden or invisible using CSS as this will cause some browsers to not load the components",15e3)},15e3),n=!0}}}}()),w.register("postmessage",function(){var e=!1;return{isAvailable:function(){return!!y.postMessage},init:function(t){h.debug("init postMessage: "+t.channel);var n="_FB_"+t.channel,r={send:function(e,t,n,r){if(y===n)throw h.error("Invalid windowref, equal to window (self)"),new Error;h.debug("sending to: %s (%s)",t,r);var o=function(){n.postMessage("_FB_"+r+e,t)};8==g.ie()||g.ieCompatibilityMode()?i(o,0):o()}};e?t.whenReady(r):(l.add(y,"message",m(function(e){var i=e.data,r=e.origin||"native";/^(https?:\/\/|native$)/.test(r)?"string"==typeof i?(h.debug("received message %s from %s",i,r),i.substring(0,n.length)==n&&(i=i.substring(n.length)),t.onMessage(i,r)):h.warn("Received message of type %s from %s, expected a string",typeof i,r):h.debug("Received message from invalid origin type: %s",r)},"entry","onMessage")),t.whenReady(r),e=!0)}}}()),s.exports=w},null),l("isFacebookURI",[],function(e,t,n,i,r,o){var s=null,a=["http","https"];r.exports=function(e){return s||(s=new RegExp("(^|\\.)facebook\\.com$","i")),!e.isEmpty()&&(!e.getDomain()&&!e.getProtocol()||-1!==u(a,"indexOf",!0,e.getProtocol())&&s.test(e.getDomain()))}},null),l("sdk.XD",["sdk.Content","sdk.Event","Log","QueryString","Queue","sdk.RPC","sdk.Runtime","sdk.Scribe","sdk.URI","UrlMap","JSSDKXDConfig","XDM","isFacebookURI","sdk.createIframe","sdk.feature","guid"],function(e,t,r,o,s,a,l,c,d,f,p,h,g,m,b,_,v,y,w,x,k,E){function A(e){d.info("Remote XD can talk to facebook.com (%s)",e),g.setEnvironment("canvas"===e?g.ENVIRONMENTS.CANVAS:g.ENVIRONMENTS.PAGETAB)}function C(e,t){if(!t)throw d.error("No senderOrigin"),new Error;var n=/^https?/.exec(t)[0];switch(e.xd_action){case"proxy_ready":var i,r;"https"==n?(i=F,r=O):(i=P,r=N),e.registered&&(A(e.registered),D=i.merge(D)),d.info("Proxy ready, starting queue %s containing %s messages",n+"ProxyQueue",i.getLength()),i.start(function(e){T.send("string"==typeof e?e:f.encode(e),t,r.contentWindow,z+"_"+n)});break;case"plugin_ready":if(d.info("Plugin %s ready, protocol: %s",e.name,n),J[e.name]={protocol:n},p.exists(e.name)){var o=p.get(e.name);d.debug("Enqueuing %s messages for %s in %s",o.getLength(),e.name,n+"ProxyQueue"),("https"==n?F:P).merge(o)}}e.data&&S(e.data,t)}function S(e,t){if(!t||"native"===t||w(b(t))){if("string"==typeof e){if(/^FB_RPC:/.test(e))return void X.enqueue(e.substring(7));if("{"==e.substring(0,1))try{e=u("JSON","parse",!1,e)}catch(t){return void d.warn("Failed to decode %s as JSON",e)}else e=f.decode(e)}if(t||e.xd_sig==U&&(t=e.xd_origin),e.xd_action)C(e,t);else if(e.access_token&&g.setSecure(/^https/.test(V)),e.cb){var n=W._callbacks[e.cb];W._forever[e.cb]||delete W._callbacks[e.cb],n&&n(e)}}}function I(e,t){if("facebook"==e)t.relation="parent.parent",D.enqueue(t);else{t.relation='parent.frames["'+e+'"]';var n=J[e];n?(d.debug("Enqueuing message for plugin %s in %s",e,n.protocol+"ProxyQueue"),("https"==n.protocol?F:P).enqueue(t)):(d.debug("Buffering message for plugin %s",e),p.get(e).enqueue(t))}}function R(e){if(!q){var t=l.appendHidden(n.createElement("div")),i=y.create({blacklist:null,root:t,channel:z,flashUrl:v.Flash.path,whenReady:function(n){T=n;var r={channel:z,origin:location.protocol+"//"+location.host,transport:i,xd_name:e},o="#"+f.encode(r);!0!==g.getSecure()&&(N=x({url:L+o,name:"fb_xdm_frame_http",id:"fb_xdm_frame_http",root:t,"aria-hidden":!0,title:H,tabindex:-1})),O=x({url:j+o,name:"fb_xdm_frame_https",id:"fb_xdm_frame_https",root:t,"aria-hidden":!0,title:H,tabindex:-1})},onMessage:S});i||m.log("jssdk_error",{appId:g.getClientID(),error:"XD_TRANSPORT",extra:{message:"Failed to create a valid transport"}}),q=!0}}var N,O,T,D=new p,P=new p,F=new p,U=E(),B=v.useCdn?"cdn":"www",M=k("use_bundle")?v.XdBundleUrl:v.XdUrl,L=_.resolve(B,!1)+M,j=_.resolve(B,!0)+M,z=E(),V=location.protocol+"//"+location.host,q=!1,H="Facebook Cross Domain Communication Frame",J={},X=new p;h.setInQueue(X),h.getOutQueue().start(function(e){I("facebook","FB_RPC:"+e)});var W={rpc:h,_callbacks:{},_forever:{},_channel:z,_origin:V,onMessage:S,recv:S,init:R,sendToFacebook:I,inform:function(e,t,n,i){I("facebook",{method:e,params:u("JSON","stringify",!1,t||{}),behavior:i||"p",relation:n})},handler:function(e,t,n,i){var r="#"+f.encode({cb:this.registerCallback(e,n,i),origin:V+"/"+z,domain:location.hostname,relation:t||"opener"});return("https:"==location.protocol?j:L)+r},registerCallback:function(e,t,n){return n=n||E(),t&&(W._forever[n]=!0),W._callbacks[n]=e,n}};c.subscribe("init:post",function(e){R(e.xdProxyName);var t=k("xd_timeout");t&&i(function(){O&&!!N==P.isStarted()&&!!O==F.isStarted()||m.log("jssdk_error",{appId:g.getClientID(),error:"XD_INITIALIZATION",extra:{message:"Failed to initialize in "+t+"ms"}})},t)}),s.exports=W},null),l("sdk.Auth",["sdk.Cookie","sdk.createIframe","DOMWrapper","sdk.feature","sdk.getContextType","guid","sdk.Impressions","Log","ObservableMixin","sdk.Runtime","sdk.SignedRequest","UrlMap","sdk.URI","sdk.XD"],function(e,t,n,r,s,a,l,c,d,f,p,h,g,m,b,_,v,y,w,x){function k(e,t){var n=_.getUserID(),i="";if(e)if(e.userID)i=e.userID;else if(e.signedRequest){var r=v.parse(e.signedRequest);r&&r.user_id&&(i=r.user_id)}var o=_.getLoginStatus(),s="unknown"===o&&e||_.getUseCookie()&&_.getCookieUserID()!==i,a=n&&!e,l=e&&n&&n!=i,u=e!=S,c=t!=(o||"unknown");_.setLoginStatus(t),_.setAccessToken(e&&e.accessToken||null),_.setUserID(i),S=e;var d={authResponse:e,status:t};return(a||l)&&N.inform("logout",d),(s||l)&&N.inform("login",d),u&&N.inform("authresponse.change",d),c&&N.inform("status.change",d),d}function E(){return S}function A(e,t,n){return function(i){if(i&&i.access_token){var r=v.parse(i.signed_request);if(t={accessToken:i.access_token,userID:r.user_id,expiresIn:parseInt(i.expires_in,10),signedRequest:i.signed_request},i.granted_scopes&&(t.grantedScopes=i.granted_scopes),_.getUseCookie()){var o=0===t.expiresIn?0:u("Date","now",!1)+1e3*t.expiresIn;!l.getDomain()&&i.base_domain&&l.setDomain("."+i.base_domain),l.setSignedRequestCookie(i.signed_request,o)}k(t,"connected")}else"logout"!==n&&"login_status"!==n||(k(null,i.error&&"not_authorized"===i.error?"not_authorized":"unknown"),_.getUseCookie()&&l.clearSignedRequestCookie());return i&&1==i.https&&_.setSecure(!0),e&&e({authResponse:t,status:_.getLoginStatus()}),t}}function C(e){var t,n=u("Date","now",!1);I&&(o(I),I=null);var r=A(e,S,"login_status"),s=w(y.resolve("www",!0)+"/connect/ping").setQueryData({client_id:_.getClientID(),response_type:"token,signed_request,code",domain:location.hostname,origin:p(),redirect_uri:x.handler(function(e){if(f("e2e_ping_tracking",!0)){var o={init:n,close:u("Date","now",!1),method:"ping"};m.debug("e2e: %s",u("JSON","stringify",!1,o)),g.log(114,{payload:o})}t.parentNode.removeChild(t),r(e)&&(I=i(function(){C(function(){})},12e5))},"parent"),sdk:"joey",kid_directed_site:_.getKidDirectedSite()});t=c({root:d.getRoot(),name:h(),url:s.toString(),style:{display:"none"}})}var S,I,R,N=new b;u("Object","assign",!1,N,{getLoginStatus:function(e,t){if(_.getClientID()){if(e){if(!t&&"loaded"==R)return void e({status:_.getLoginStatus(),authResponse:E()});N.subscribe("FB.loginStatus",e)}(t||"loading"!=R)&&(R="loading",C(function(e){R="loaded",N.inform("FB.loginStatus",e),N.clearSubscribers("FB.loginStatus")}))}else m.warn("FB.getLoginStatus() called before calling FB.init().")},fetchLoginStatus:C,setAuthResponse:k,getAuthResponse:E,parseSignedRequest:v.parse,xdResponseWrapper:A}),s.exports=N},null),l("toArray",["invariant"],function(e,t,n,i,r,o,s){r.exports=function(e){var t=e.length;if(s(!u("Array","isArray",!1,e)&&("object"==typeof e||"function"==typeof e)),s("number"==typeof t),s(0===t||t-1 in e),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}},null),l("createArrayFrom",["toArray"],function(e,t,n,i,r,o,s){function a(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(u("Array","isArray",!1,e)||"callee"in e||"item"in e)}r.exports=function(e){return a(e)?u("Array","isArray",!1,e)?e.slice():s(e):[e]}},null),l("sdk.DOM",["Assert","createArrayFrom","sdk.domReady","UserAgent_DEPRECATED"],function(t,i,r,o,s,a,l,c,d,f){function p(e,t){var n=e.getAttribute(t)||e.getAttribute(t.replace(/_/g,"-"))||e.getAttribute(t.replace(/-/g,"_"))||e.getAttribute(t.replace(/-/g,""))||e.getAttribute(t.replace(/_/g,""))||e.getAttribute("data-"+t)||e.getAttribute("data-"+t.replace(/_/g,"-"))||e.getAttribute("data-"+t.replace(/-/g,"_"))||e.getAttribute("data-"+t.replace(/-/g,""))||e.getAttribute("data-"+t.replace(/_/g,""));return n?String(n):null}function h(e,t){l.isTruthy(e,"element not specified"),l.isString(t);try{return String(e[t])}catch(e){throw new Error("Could not read property "+t+" : "+e.message)}}function g(e,t){l.isTruthy(e,"element not specified"),l.isString(t);var n=" "+h(e,"className")+" ";return u(n,"indexOf",!0," "+t+" ")>=0}var m={},b={containsCss:g,addCss:function(e,t){l.isTruthy(e,"element not specified"),l.isString(t),g(e,t)||(e.className=h(e,"className")+" "+t)},removeCss:function(e,t){l.isTruthy(e,"element not specified"),l.isString(t);var n=new RegExp("\\s*"+t,"g");e.className=u(h(e,"className").replace(n,""),"trim",!0)},getByClass:function(e,t,i){if(l.isString(e),t=t||n.body,i=i||"*",t.querySelectorAll)return c(t.querySelectorAll(i+"."+e));for(var r=t.getElementsByTagName(i),o=[],s=0,a=r.length;s<a;s++)g(r[s],e)&&(o[o.length]=r[s]);return o},getStyle:function(e,t){l.isTruthy(e,"element not specified"),l.isString(t),t=t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()});var i=(e.currentStyle||n.defaultView.getComputedStyle(e,null))[t];return/backgroundPosition?/.test(t)&&/top|left/.test(i)&&(i="0%"),i},setStyle:function(e,t,n){l.isTruthy(e,"element not specified"),l.isString(t),t=t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()}),e.style[t]=n},getAttr:p,getBoolAttr:function(e,t){var n=p(e,t);return n?/^(true|1|yes|on)$/.test(n):null},getProp:h,html:function(e,t){l.isTruthy(e,"element not specified"),l.isString(t);try{e.innerHTML=t}catch(e){throw new Error("Could not set innerHTML : "+e.message)}},addCssRules:function(e,t){for(var i,r=!0,o=0;i=t[o++];)i in m||(r=!1,m[i]=!0);if(!r)if(f.ie()<11)try{n.createStyleSheet().cssText=e}catch(t){n.styleSheets[0]&&(n.styleSheets[0].cssText+=e)}else{var s=n.createElement("style");s.type="text/css",s.textContent=e,n.getElementsByTagName("head")[0].appendChild(s)}},getViewportInfo:function(){var t=n.documentElement&&"CSS1Compat"==n.compatMode?n.documentElement:n.body;return{scrollTop:t.scrollTop||n.body.scrollTop,scrollLeft:t.scrollLeft||n.body.scrollLeft,width:e.innerWidth?e.innerWidth:t.clientWidth,height:e.innerHeight?e.innerHeight:t.clientHeight}},getPosition:function(e){l.isTruthy(e,"element not specified");var t=0,n=0;do{t+=e.offsetLeft,n+=e.offsetTop}while(e=e.offsetParent);return{x:t,y:n}},ready:d};s.exports=b},null),l("sdk.ErrorHandling",["sdk.feature","ManagedError","sdk.Runtime","sdk.Scribe","UserAgent_DEPRECATED","wrapFunction"],function(t,n,o,s,a,l,c,d,f,p,h,g){function m(e){var t=e._originalError;throw delete e._originalError,p.log("jssdk_error",{appId:f.getClientID(),error:e.name||e.message,extra:e}),t}function b(e){var t={line:e.lineNumber||e.line,message:e.message,name:e.name,script:e.fileName||e.sourceURL||e.script,stack:e.stackTrace||e.stack};t._originalError=e,h.chrome()&&/([\w:\.\/]+\.js):(\d+)/.test(e.stack)&&(t.script=RegExp.$1,t.line=parseInt(RegExp.$2,10));for(var n in t)null==t[n]&&delete t[n];return t}function _(e,t){return function(){if(!y)return e.apply(this,arguments);try{return w=t,e.apply(this,arguments)}catch(e){if(e instanceof d)throw e;var n=b(e);n.entry=t;var i=u(Array.prototype.slice.call(arguments),"map",!0,function(e){var t=Object.prototype.toString.call(e);return/^\[object (String|Number|Boolean|Object|Date)\]$/.test(t)?e:e.toString()});n.args=u("JSON","stringify",!1,i).substring(0,200),m(n)}finally{w=""}}}function v(e,t){return function(n,i){var r=t+":"+(w||"[global]")+":"+(n.name||"[anonymous]"+(arguments.callee.caller.name?"("+arguments.callee.caller.name+")":""));return e(g(n,"entry",r),i)}}var y=c("error_handling",!1),w="";y&&(i=v(i,"setTimeout"),r=v(r,"setInterval"),g.setWrapper(_,"entry"));var x={guard:_,unguard:function(t){return t.__wrapper||(t.__wrapper=function(){try{return t.apply(this,arguments)}catch(t){return e.setTimeout(function(){throw t},0),!1}}),t.__wrapper}};a.exports=x},null),l("sdk.Insights",["sdk.Impressions"],function(e,t,n,i,r,o,s){var a={TYPE:{NOTICE:"notice",WARNING:"warn",ERROR:"error"},CATEGORY:{DEPRECATED:"deprecated",APIERROR:"apierror"},log:function(e,t,n){var i={source:"jssdk",type:e,category:t,payload:n};s.log(113,i)},impression:s.impression};r.exports=a},null),l("FB",["sdk.Auth","JSSDKCssConfig","dotAccess","sdk.domReady","sdk.DOM","sdk.ErrorHandling","sdk.Content","DOMWrapper","GlobalCallback","sdk.Insights","Log","sdk.Runtime","sdk.Scribe","JSSDKConfig"],function(t,i,r,o,s,a,l,c,d,f,p,h,g,m,b,_,v,y,w,x){function k(e,t,n,i){var r;switch(/^_/.test(n)?r="hide":A&&!A[t]&&(r=C),r){case"hide":return;case"stub":return function(){v.warn("The method FB.%s has been removed from the JS SDK.",t)};default:return h.guard(function(){function n(e){return u("Array","isArray",!1,e)?u(e,"map",!0,n):e&&"object"==typeof e&&e.__wrapped?e.__wrapped:"function"==typeof e&&/^function/.test(e.toString())?h.unguard(e):e}"warn"===r&&(v.warn("The method FB.%s is not officially supported by Facebook and access to it will soon be removed.",t),S.hasOwnProperty(t)||(_.log(_.TYPE.WARNING,_.CATEGORY.DEPRECATED,"FB."+t),w.log("jssdk_error",{appId:y.getClientID(),error:"Private method used",extra:{args:t}}),S[t]=!0));var o,s=u(Array.prototype.slice.call(arguments),"map",!0,n),a=e.apply(i,s),l=!0;if(a&&"object"==typeof a){var c=Function();c.prototype=a,(o=new c).__wrapped=a;for(var d in a){var f=a[d];"function"==typeof f&&"constructor"!==d&&(l=!1,o[d]=k(f,t+":"+d,d,a))}}return l&&l?a:o},t)}}var E,A,C=d(x,"api.mode"),S={};E=e.FB={};var I={};v.level=1,b.setPrefix("FB.__globalCallbacks");var R=n.createElement("div");m.setRoot(R),f(function(){v.info("domReady"),g.appendHidden(R),c.rules&&p.addCssRules(c.rules,c.components)}),y.subscribe("AccessToken.change",function(e){e||"connected"!==y.getLoginStatus()||l.getLoginStatus(null,!0)}),d(x,"api.whitelist.length")&&(A={},u(x.api.whitelist,"forEach",!0,function(e){A[e]=1})),y.setSecure(function(){var t=/iframe_canvas|app_runner/.test(e.name),n=/dialog/.test(e.name);return"https:"==location.protocol&&(e==top||!t&&!n)||(/_fb_https?/.test(e.name)?-1!=u(e.name,"indexOf",!0,"_fb_https"):void 0)}()),u("Object","assign",!1,I,{provide:function(e,t){var n=e?d(E,e,!0):E;u(u("Object","keys",!1,t),"forEach",!0,function(i){var r=t[i];if("function"==typeof r){var o=(e?e+".":"")+i,s=k(r,o,i,t);s&&(n[i]=s)}else"object"==typeof r&&(o=(e?e+".":"")+i,A&&A[o]&&(n[i]=r))})}}),s.exports=I},null),l("ArgumentError",["ManagedError"],function(e,t,n,i,r,o,s){function a(e,t){s.prototype.constructor.apply(this,arguments)}(a.prototype=new s).constructor=a,r.exports=a},null),l("CORSRequest",["wrapFunction","QueryString"],function(e,n,i,r,o,s,a,l){function c(e,n){if(!t.XMLHttpRequest)return null;var i=new XMLHttpRequest,r=function(){};if("withCredentials"in i)i.open(e,n,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded");else{if(!t.XDomainRequest)return null;i=new XDomainRequest;try{i.open(e,n),i.onprogress=i.ontimeout=r}catch(e){return null}}var o={send:function(e){i.send(e)}},s=a(function(){s=r,"onload"in o&&o.onload(i)},"entry","XMLHttpRequest:load"),l=a(function(){l=r,"onerror"in o&&o.onerror(i)},"entry","XMLHttpRequest:error");return i.onload=function(){s()},i.onerror=function(){l()},i.onreadystatechange=function(){4==i.readyState&&(200==i.status?s():l())},o}var d={execute:function(e,t,n,i){n.suppress_http_code=1;var r=l.encode(n);"post"!=t&&(e=l.appendToUrl(e,r),r="");var o=c(t,e);return!!o&&(o.onload=function(e){i(u("JSON","parse",!1,e.responseText))},o.onerror=function(e){i(e.responseText?u("JSON","parse",!1,e.responseText):{error:{type:"http",message:"unknown error",status:e.status}})},o.send(r),!0)}};o.exports=d},null),l("FlashRequest",["DOMWrapper","Flash","GlobalCallback","QueryString","Queue"],function(e,t,n,i,r,o,s,a,l,c,d){function f(){if(!h)throw new Error("swfUrl has not been set");var e=l.create(function(){p.start(function(e){var t=g.execute(e.method,e.url,e.body);if(!t)throw new Error("Could create request");m[t]=e.callback})}),t=l.create(function(e,t,n){var i;try{i=u("JSON","parse",!1,decodeURIComponent(n))}catch(e){i={error:{type:"SyntaxError",message:e.message,status:t,raw:n}}}m[e](i),delete m[e]});g=a.embed(h,s.getRoot(),null,{log:!1,initCallback:e,requestCallback:t})}var p,h,g,m={},b={setSwfUrl:function(e){h=e},execute:function(e,t,n,i){n.suppress_http_code=1,n.method||(n.method=t);var r=c.encode(n);if("get"===t&&e.length+r.length<2e3?(e=c.appendToUrl(e,r),r=""):t="post",!p){if(!a.isAvailable())return!1;p=new d,f()}return p.enqueue({method:t,url:e,body:r,callback:i}),!0}};r.exports=b},null),l("flattenObject",[],function(e,t,n,i,r,o){r.exports=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(null===i||void 0===i)continue;t[n]="string"==typeof i?i:u("JSON","stringify",!1,i)}return t}},null),l("JSONPRequest",["DOMWrapper","GlobalCallback","QueryString"],function(e,t,r,o,s,a,l,u,c){var d={execute:function(e,t,r,o){var s=n.createElement("script"),a=function(e){a=function(){},u.remove(r.callback),o(e),s.parentNode.removeChild(s)};if(r.callback=u.create(a),r.method||(r.method=t),(e=c.appendToUrl(e,r)).length>2e3)return u.remove(r.callback),!1;s.onerror=function(){a({error:{type:"http",message:"unknown error"}})};var d=function(){i(function(){a({error:{type:"http",message:"unknown error"}})},0)};return s.addEventListener?s.addEventListener("load",d,!1):s.onreadystatechange=function(){/loaded|complete/.test(this.readyState)&&d()},s.src=e,l.getRoot().appendChild(s),!0}};s.exports=d},null),l("ApiClient",["ArgumentError","Assert","CORSRequest","FlashRequest","flattenObject","JSONPRequest","Log","ObservableMixin","sprintf","sdk.URI","UrlMap","ApiClientConfig","invariant"],function(e,t,n,r,o,s,a,l,c,d,f,p,h,g,m,b,_,v,y){function w(e,t,n,i){I&&(n=u("Object","assign",!1,{},I,n)),n.access_token=n.access_token||C,n.pretty=n.pretty||0,n=f(n);var r,o={jsonp:p,cors:c,flash:d};n.transport?(r=[n.transport],delete n.transport):r=["jsonp","cors","flash"];for(var s=0;s<r.length;s++){var a=o[r[s]],l=u("Object","assign",!1,{},n);if(a.execute(e,t,l,i))return}i({error:{type:"no-transport",message:"Could not find a usable transport for request"}})}function x(e,t,n,i,r){U.inform("request.complete",t,n,i,r),e&&e(r)}function k(e){var t=e.shift();l.isString(t,"Invalid path"),/^https?/.test(t)||"/"===t.charAt(0)||(t="/"+t);var n,i={};try{n=new b(t)}catch(e){throw new a(e.message,e)}u(e,"forEach",!0,function(e){return i[typeof e]=e});var r=(i.string||"get").toLowerCase();l.isTrue(R.hasOwnProperty(r),m("Invalid method passed to ApiClient: %s",r));var o=i.function;o||h.warn("No callback passed to the ApiClient"),i.object&&n.addQueryData(i.object);var s=n.getQueryData();return s.method=r,{uri:n,callback:o,params:s}}function E(){var e=k(Array.prototype.slice.call(arguments,0)),t=e.uri,n=e.callback,i=e.params,r=i.method;w(t.getProtocol()&&t.getDomain()?t.setQueryData({}).toString():_.resolve("graph")+t.getPath(),"get"==r?"get":"post",i,u(x,"bind",!0,null,n,t.getPath(),r,i))}function A(){y(O.length>0);var e=O,t=T;O=[],T=[],D=null,E("/","POST",{batch:u("JSON","stringify",!1,e),include_headers:!1,batch_app_id:S||F},function(e){u("Array","isArray",!1,e)?u(e,"forEach",!0,function(e,n){t[n](u("JSON","parse",!1,e.body))}):u(t,"forEach",!0,function(e){return e({error:{message:"Fatal: batch call failed."}})})})}var C,S,I,R={get:!0,post:!0,delete:!0,put:!0},N={fql_query:!0,fql_multiquery:!0,friends_get:!0,notifications_get:!0,stream_get:!0,users_getinfo:!0},O=[],T=[],D=null,P=50,F=105440539523,U=u("Object","assign",!1,new g,{setAccessToken:function(e){C=e},setClientID:function(e){S=e},setDefaultParams:function(e){I=e},rest:function(e,t){l.isObject(e),l.isString(e.method,"method missing"),t||h.warn("No callback passed to the ApiClient");var n=e.method.toLowerCase().replace(".","_");e.format="json-strings",e.api_key=S;var i=n in N?"api_read":"api";w(_.resolve(i)+"/restserver.php","get",e,u(x,"bind",!0,null,t,"/restserver.php","get",e))},graph:E,scheduleBatchCall:function(){var e=k(Array.prototype.slice.call(arguments,0)),t=e.uri,n=e.callback,r=e.params.method,o={method:r,relative_url:t.removeQueryData("method").toString()};"post"==r.toLowerCase()&&(o.body=t.getQueryData(),o.relative_url=t.setQueryData({}).toString()),O.push(o),T.push(n),O.length==P?A():D||(D=i(A,0))}});d.setSwfUrl(v.FlashRequest.swfUrl),o.exports=U},null),l("sdk.PlatformVersioning",["sdk.Runtime","ManagedError"],function(e,t,n,i,r,o,s,a){var l=/^v\d+\.\d\d?$/,u={REGEX:l,assertVersionIsSet:function(){if(!s.getVersion())throw new a("init not called with valid version")},assertValidVersion:function(e){if(!l.test(e))throw new a("invalid version specified")}};r.exports=u},null),l("sdk.api",["ApiClient","sdk.PlatformVersioning","sdk.Runtime","sdk.URI"],function(e,t,n,i,r,o,s,a,l,c){var d;l.subscribe("ClientID.change",function(e){s.setClientID(e)}),l.subscribe("AccessToken.change",function(e){d=e,s.setAccessToken(e)}),s.setDefaultParams({sdk:"joey"}),s.subscribe("request.complete",function(e,t,n,i){var r=!1;i&&"object"==typeof i&&(i.error?("invalid_token"==i.error||"OAuthException"==i.error.type&&190==i.error.code)&&(r=!0):i.error_code&&"190"==i.error_code&&(r=!0)),r&&d===l.getAccessToken()&&l.setAccessToken(null)}),s.subscribe("request.complete",function(e,t,n,i){("/me/permissions"==e&&"delete"===t||"/restserver.php"==e&&"Auth.revokeAuthorization"==n.method)&&!0===i&&l.setAccessToken(null)}),r.exports=function(e){if("string"==typeof e)if(l.getIsVersioned()){a.assertVersionIsSet(),/https?/.test(e)||"/"===e.charAt(0)||(e="/"+e),e=c(e).setDomain(null).setProtocol(null).toString(),a.REGEX.test(e.substring(1,u(e,"indexOf",!0,"/",1)))||(e="/"+l.getVersion()+e);var t=[e].concat(Array.prototype.slice.call(arguments,1));s.graph.apply(s,t)}else s.graph.apply(s,arguments);else s.rest.apply(s,arguments)}},null),l("legacy:fb.api",["FB","sdk.api"],function(e,t,n,i,r,o,s,a){s.provide("",{api:a})},3),l("merge",[],function(e,t,n,i,r,o){"use strict";r.exports=function(e,t){return u("Object","assign",!1,{},e,t)}},null),l("sdk.AppEvents",["Assert","sdk.Impressions","merge","sdk.Runtime"],function(e,t,n,i,r,o,s,a,l,c){function d(e,t,n,i){s.isTrue(f(t),"Invalid event name: "+t+". It must be between 1 and "+m+" characters, and must be contain only alphanumerics, _, - or spaces, starting with alphanumeric or _.");var r={ae:1,ev:t,vts:n,canvas:c.isCanvasEnvironment()?1:0};i&&(r.cd=i),a.impression({api_key:e,payload:u("JSON","stringify",!1,r)})}function f(e){return!(null===e||0===e.length||e.length>m||!new RegExp(b).test(e))}var p={COMPLETED_REGISTRATION:"fb_mobile_complete_registration",VIEWED_CONTENT:"fb_mobile_content_view",SEARCHED:"fb_mobile_search",RATED:"fb_mobile_rate",COMPLETED_TUTORIAL:"fb_mobile_tutorial_completion",ADDED_TO_CART:"fb_mobile_add_to_cart",ADDED_TO_WISHLIST:"fb_mobile_add_to_wishlist",INITIATED_CHECKOUT:"fb_mobile_initiated_checkout",ADDED_PAYMENT_INFO:"fb_mobile_add_payment_info",ACHIEVED_LEVEL:"fb_mobile_level_achieved",UNLOCKED_ACHIEVEMENT:"fb_mobile_achievement_unlocked",SPENT_CREDITS:"fb_mobile_spent_credits"},h={ACTIVATED_APP:"fb_mobile_activate_app",PURCHASED:"fb_mobile_purchase"},g={CURRENCY:"fb_currency",REGISTRATION_METHOD:"fb_registration_method",CONTENT_TYPE:"fb_content_type",CONTENT_ID:"fb_content_id",SEARCH_STRING:"fb_search_string",SUCCESS:"fb_success",MAX_RATING_VALUE:"fb_max_rating_value",PAYMENT_INFO_AVAILABLE:"fb_payment_info_available",NUM_ITEMS:"fb_num_items",LEVEL:"fb_level",DESCRIPTION:"fb_description"},m=40,b="^[0-9a-zA-Z_]+[0-9a-zA-Z _-]*$";r.exports={activateApp:function(e){d(e,h.ACTIVATED_APP)},logEvent:d,logPurchase:function(e,t,n,i){var r={};r[g.CURRENCY]=n,d(e,h.PURCHASED,t,l(i,r))},isValidEventName:f,EventNames:p,ParameterNames:g}},null),l("legacy:fb.appevents",["Assert","sdk.AppEvents","FB","sdk.feature","sdk.Runtime"],function(e,t,n,i,r,o,s,a,l,u,c){l.provide("AppEvents",{logEvent:function(e,t,n){s.isTrue(u("allow_non_canvas_app_events")||c.isCanvasEnvironment(),"You can only use this function in Facebook Canvas environment"),s.isString(e,"Invalid eventName"),s.maybeNumber(t,"Invalid valueToSum"),s.maybeObject(n,"Invalid params");var i=c.getClientID();s.isTrue(null!==i&&i.length>0,"You need to call FB.init() with App ID first."),a.logEvent(i,e,t,n)},logPurchase:function(e,t,n){s.isTrue(u("allow_non_canvas_app_events")||c.isCanvasEnvironment(),"You can only use this function in Facebook Canvas environment"),s.isNumber(e,"Invalid purchaseAmount"),s.isString(t,"Invalid currency"),s.maybeObject(n,"Invalid params");var i=c.getClientID();s.isTrue(null!==i&&i.length>0,"You need to call FB.init() with App ID first."),a.logPurchase(i,e,t,n)},activateApp:function(){s.isTrue(u("allow_non_canvas_app_events")||c.isCanvasEnvironment(),"You can only use this function in Facebook Canvas environment");var e=c.getClientID();s.isTrue(null!==e&&e.length>0,"You need to call FB.init() with App ID first."),a.activateApp(e)},EventNames:a.EventNames,ParameterNames:a.ParameterNames})},3),l("sdk.Canvas.Environment",["sdk.RPC"],function(e,t,n,i,r,o,s){s.stub("getPageInfo"),s.stub("scrollTo");var a={getPageInfo:function(e){s.remote.getPageInfo(function(t){e(t.result)})},scrollTo:function(e,t){s.remote.scrollTo({x:e||0,y:t||0})}};r.exports=a},null),l("sdk.Intl",["Log"],function(e,t,n,i,r,o,s){function a(e){return"string"==typeof e&&!!e.match(new RegExp(u+"[)\"'»༻༽’”›〉》」』】〕〗〙〛〞〟﴿＇）］\\s]*$"))}function l(){throw new Error("Placeholder function")}var u="[.!?。！？।…ຯ᠁ฯ．]";l._=function(e,t){if(void 0!==t)if("object"!=typeof t)s.error("The second arg to FB.Intl.tx() must be an Object for FB.Intl.tx("+e+", ...)");else{var n;for(var i in t)t.hasOwnProperty(i)&&(n=a(t[i])?new RegExp("\\{"+i+"\\}"+u+"*","g"):new RegExp("\\{"+i+"\\}","g"),e=e.replace(n,t[i]))}return e},r.exports={tx:l}},null),l("sdk.Dialog",["sdk.Canvas.Environment","sdk.Content","sdk.DOM","DOMEventListener","sdk.Intl","ObservableMixin","sdk.Runtime","Type","UserAgent_DEPRECATED","sdk.feature"],function(t,r,o,s,a,l,c,d,f,p,h,g,m,b,_,v){function y(){if(v("dialog_resize_refactor")){var e=f.getViewportInfo();if(e.height&&e.width)return{width:Math.min(e.width,w),height:Math.min(e.height,x)}}return null}var w=590,x=500,k=function(){var e;if(v("dialog_resize_refactor")){var t=y();e=t&&(t.height>=w||t.width>=x)}else e=!!_.ipad();return k=function(){return e},e},E=b.extend({constructor:function(e,t){this.parent(),this.id=e,this.display=t,this._e2e={},A._dialogs||(A._dialogs={},A._addOrientationHandler()),A._dialogs[e]=this,this.trackEvent("init")},trackEvent:function(e,t){return this._e2e[e]?this:(this._e2e[e]=t||u("Date","now",!1),"close"==e&&this.inform("e2e:end",this._e2e),this)},trackEvents:function(e){"string"==typeof e&&(e=u("JSON","parse",!1,e));for(var t in e)e.hasOwnProperty(t)&&this.trackEvent(t,e[t]);return this}},g),A={newInstance:function(e,t){return new E(e,t)},_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,get:function(e){return A._dialogs[e]},_findRoot:function(e){for(;e;){if(f.containsCss(e,"fb_dialog"))return e;e=e.parentNode}},_createWWWLoader:function(e){return e=e||460,A.create({content:'<div class="dialog_title">  <a id="fb_dialog_loader_close">    <div class="fb_dialog_close_icon"></div>  </a>  <span>Facebook</span>  <div style="clear:both;"></div></div><div class="dialog_content"></div><div class="dialog_footer"></div>',width:e})},_createMobileLoader:function(){var e=_.nativeApp()?"":'<table>  <tbody>    <tr>      <td class="header_left">        <label class="touchable_button">          <input type="submit" value="'+h.tx._("取消")+'"            id="fb_dialog_loader_close"/>        </label>      </td>      <td class="header_center">        <div>'+h.tx._("加载中...")+'</div>      </td>      <td class="header_right">      </td>    </tr>  </tbody></table>';return A.create({classes:"loading"+(k()?" centered":""),content:'<div class="dialog_header">'+e+"</div>"})},_restoreBodyPosition:function(){if(!k()){var e=n.getElementsByTagName("body")[0];f.removeCss(e,"fb_hidden")}},_showTabletOverlay:function(){k()&&(A._overlayEl||(A._overlayEl=n.createElement("div"),A._overlayEl.setAttribute("id","fb_dialog_ipad_overlay"),d.append(A._overlayEl,null)),A._overlayEl.className="")},_hideTabletOverlay:function(){k()&&(A._overlayEl.className="hidden")},showLoader:function(e,t){A._showTabletOverlay(),A._loaderEl||(A._loaderEl=A._findRoot(_.mobile()?A._createMobileLoader():A._createWWWLoader(t))),e||(e=function(){});var i=n.getElementById("fb_dialog_loader_close");f.removeCss(i,"fb_hidden"),i.onclick=function(){A._hideLoader(),A._restoreBodyPosition(),A._hideTabletOverlay(),e()};var r=n.getElementById("fb_dialog_ipad_overlay");r&&(r.ontouchstart=i.onclick),A._makeActive(A._loaderEl)},_hideLoader:function(){A._loaderEl&&A._loaderEl==A._active&&(A._loaderEl.style.top="-10000px")},_makeActive:function(e){A._setDialogSizes(),A._lowerActive(),A._active=e,m.isEnvironment(m.ENVIRONMENTS.CANVAS)&&c.getPageInfo(function(e){A._centerActive(e)}),A._centerActive()},_lowerActive:function(){A._active&&(A._active.style.top="-10000px",A._active=null)},_removeStacked:function(e){A._stack=u(A._stack,"filter",!0,function(t){return t!=e})},_centerActive:function(e){var t=A._active;if(t){var i=f.getViewportInfo(),r=parseInt(t.offsetWidth,10),o=parseInt(t.offsetHeight,10),s=i.scrollLeft+(i.width-r)/2,a=(i.height-o)/2.5;s<a&&(a=s);var l=i.height-o-a,u=(i.height-o)/2;if(e&&(u=e.scrollTop-e.offsetTop+(e.clientHeight-o)/2),u<a?u=a:u>l&&(u=l),u+=i.scrollTop,_.mobile()){var c=100;if(k())c+=(i.height-o)/2;else{var d=n.getElementsByTagName("body")[0];f.addCss(d,"fb_hidden"),v("dialog_resize_refactor")&&(d.style.width="auto"),u=1e4}var p=f.getByClass("fb_dialog_padding",t);p.length&&(p[0].style.height=c+"px")}t.style.left=(s>0?s:0)+"px",t.style.top=(u>0?u:0)+"px"}},_setDialogSizes:function(){if(_.mobile()&&!k())for(var e in A._dialogs)if(A._dialogs.hasOwnProperty(e)){var t=n.getElementById(e);t&&(t.style.width=A.getDefaultSize().width+"px",t.style.height=A.getDefaultSize().height+"px")}},getDefaultSize:function(){if(_.mobile()){var t=y();if(t)return t;if(_.ipad())return{width:x,height:w};if(_.android())return{width:screen.availWidth,height:screen.availHeight};var n=e.innerWidth,i=e.innerHeight,r=n/i>1.2;return{width:n,height:Math.max(i,r?screen.width:screen.height)}}return{width:575,height:240}},_handleOrientationChange:function(e){var t=v("dialog_resize_refactor",!1)?f.getViewportInfo().width:screen.availWidth;if(_.android()&&t==A._availScreenWidth)i(A._handleOrientationChange,50);else if(A._availScreenWidth=t,k())A._centerActive();else{var r=A.getDefaultSize().width;for(var o in A._dialogs)if(A._dialogs.hasOwnProperty(o)){var s=n.getElementById(o);s&&(s.style.width=r+"px")}}},_addOrientationHandler:function(){if(_.mobile()){var t="onorientationchange"in e?"orientationchange":"resize";A._availScreenWidth=v("dialog_resize_refactor",!1)?f.getViewportInfo().width:screen.availWidth,p.add(e,t,A._handleOrientationChange)}},create:function(e){e=e||{};var t=n.createElement("div"),i=n.createElement("div"),r="fb_dialog";if(e.closeIcon&&e.onClose){var o=n.createElement("a");o.className="fb_dialog_close_icon",o.onclick=e.onClose,t.appendChild(o)}r+=" "+(e.classes||""),_.ie()?(r+=" fb_dialog_legacy",u(["vert_left","vert_right","horiz_top","horiz_bottom","top_left","top_right","bottom_left","bottom_right"],"forEach",!0,function(e){var i=n.createElement("span");i.className="fb_dialog_"+e,t.appendChild(i)})):r+=_.mobile()?" fb_dialog_mobile":" fb_dialog_advanced",e.content&&d.append(e.content,i),t.className=r;var s=parseInt(e.width,10);if(isNaN(s)||(t.style.width=s+"px"),i.className="fb_dialog_content",t.appendChild(i),_.mobile()){var a=n.createElement("div");a.className="fb_dialog_padding",t.appendChild(a)}return d.append(t),e.visible&&A.show(t),i},show:function(e){var t=A._findRoot(e);t&&(A._removeStacked(t),A._hideLoader(),A._makeActive(t),A._stack.push(t),"fbCallID"in e&&A.get(e.fbCallID).inform("iframe_show").trackEvent("show"))},hide:function(e){var t=A._findRoot(e);A._hideLoader(),t==A._active&&(A._lowerActive(),A._restoreBodyPosition(),A._hideTabletOverlay(),"fbCallID"in e&&A.get(e.fbCallID).inform("iframe_hide").trackEvent("hide"))},remove:function(e){if(e=A._findRoot(e)){var t=A._active==e;A._removeStacked(e),t?(A._hideLoader(),A._stack.length>0?A.show(A._stack.pop()):(A._lowerActive(),A._restoreBodyPosition(),A._hideTabletOverlay())):null===A._active&&A._stack.length>0&&A.show(A._stack.pop()),i(function(){e.parentNode.removeChild(e)},3e3)}},isActive:function(e){var t=A._findRoot(e);return t&&t===A._active}};a.exports=A},null),l("sdk.Frictionless",["sdk.Auth","sdk.api","sdk.Event","sdk.Dialog"],function(e,t,n,i,r,o,s,a,l,c){var d={_allowedRecipients:{},_useFrictionless:!1,_updateRecipients:function(){d._allowedRecipients={},a("/me/apprequestformerrecipients",function(e){e&&!e.error&&u(e.data,"forEach",!0,function(e){d._allowedRecipients[e.recipient_id]=!0})})},init:function(){d._useFrictionless=!0,s.getLoginStatus(function(e){"connected"==e.status&&d._updateRecipients()}),l.subscribe("auth.login",function(e){e.authResponse&&d._updateRecipients()})},_processRequestResponse:function(e,t){return function(n){var i=n&&n.updated_frictionless;d._useFrictionless&&i&&d._updateRecipients(),n&&(!t&&n.frictionless&&(c._hideLoader(),c._restoreBodyPosition(),c._hideIPadOverlay()),delete n.frictionless,delete n.updated_frictionless),e&&e(n)}},isAllowed:function(e){if(!e)return!1;if("number"==typeof e)return e in d._allowedRecipients;"string"==typeof e&&(e=e.split(",")),e=u(e,"map",!0,function(e){return u(String(e),"trim",!0)});var t=!0,n=!1;return u(e,"forEach",!0,function(e){t=t&&e in d._allowedRecipients,n=!0}),t&&n}};l.subscribe("init:post",function(e){e.frictionlessRequests&&d.init()}),r.exports=d},null),l("sdk.Native",["Log","UserAgent_DEPRECATED"],function(t,n,i,r,o,s,a,l){var c="fbNativeReady",d={onready:function(t){if(l.nativeApp())if(e.__fbNative&&!this.nativeReady&&u("Object","assign",!1,this,e.__fbNative),this.nativeReady)t();else{var n=function(i){e.removeEventListener(c,n),this.onready(t)};e.addEventListener(c,n,!1)}else a.error("FB.Native.onready only works when the page is rendered in a WebView of the native Facebook app. Test if this is the case calling FB.UA.nativeApp()")}};o.exports=d},null),l("resolveURI",[],function(t,i,r,o,s,a){s.exports=function(t){if(!t)return e.location.href;t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;");var i=n.createElement("div");return i.innerHTML='<a href="'+t+'"></a>',i.firstChild.href}},null),l("sdk.UIServer",["sdk.Auth","sdk.Content","createObjectFrom","sdk.Dialog","sdk.DOM","sdk.Event","flattenObject","sdk.Frictionless","sdk.getContextType","guid","insertIframe","Log","sdk.Native","QueryString","resolveURI","sdk.RPC","sdk.Runtime","JSSDKConfig","UrlMap","UserAgent_DEPRECATED","sdk.XD"],function(t,o,a,l,c,d,f,p,h,g,m,b,_,v,y,w,x,k,E,A,C,S,I,R,N,O,T){var D={transform:function(t){return"touch"===t.params.display&&t.params.access_token&&e.postMessage?(t.params.channel=P._xdChannelHandler(t.id,"parent"),O.nativeApp()||(t.params.in_iframe=1),t):P.genericTransform(t)},getXdRelation:function(t){return"touch"===t.display&&e.postMessage&&t.in_iframe?"parent":P.getXdRelation(t)}},P={Methods:{"stream.share":{size:{width:670,height:340},url:"sharer.php",transform:function(t){return t.params.u||(t.params.u=e.location.toString()),t.params.display="popup",t}},apprequests:{transform:function(e){return e=D.transform(e),e.params.frictionless=v&&v._useFrictionless,e.params.frictionless&&(v.isAllowed(e.params.to)&&(e.params.display="iframe",e.params.in_iframe=!0,e.hideLoader=!0),e.cb=v._processRequestResponse(e.cb,e.hideLoader)),e.closeIcon=!1,e},getXdRelation:D.getXdRelation},feed:D,"permissions.oauth":{url:"dialog/oauth",size:{width:O.mobile()?null:475,height:O.mobile()?null:183},transform:function(e){if(I.getClientID()){if(f.getAuthResponse()&&!e.params.scope&&!e.params.auth_type)return k.error("FB.login() called when user is already connected."),void(e.cb&&e.cb({status:I.getLoginStatus(),authResponse:f.getAuthResponse()}));var t=e.cb,n=e.id;delete e.cb;var i=u("Object","keys",!1,u("Object","assign",!1,e.params.response_type?h(e.params.response_type.split(",")):{},{token:!0,signed_request:!0})).join(",");return"async"===e.params.display?(u("Object","assign",!1,e.params,{client_id:I.getClientID(),origin:y(),response_type:i,domain:location.hostname}),e.cb=f.xdResponseWrapper(t,f.getAuthResponse(),"permissions.oauth")):u("Object","assign",!1,e.params,{client_id:I.getClientID(),redirect_uri:C(P.xdHandler(t,n,"opener",f.getAuthResponse(),"permissions.oauth")),origin:y(),response_type:i,domain:location.hostname}),e}k.error("FB.login() called before FB.init().")}},"auth.logout":{url:"logout.php",transform:function(e){if(I.getClientID()){if(f.getAuthResponse())return e.params.next=P.xdHandler(e.cb,e.id,"parent",f.getAuthResponse(),"logout"),e;k.error("FB.logout() called without an access token.")}else k.error("FB.logout() called before calling FB.init().")}},"login.status":{url:"dialog/oauth",transform:function(e){var t=e.cb,n=e.id;return delete e.cb,u("Object","assign",!1,e.params,{client_id:I.getClientID(),redirect_uri:P.xdHandler(t,n,"parent",f.getAuthResponse(),"login_status"),origin:y(),response_type:"token,signed_request,code",domain:location.hostname}),e}}},_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',genericTransform:function(e){return"dialog"!=e.params.display&&"iframe"!=e.params.display||u("Object","assign",!1,e.params,{display:"iframe",channel:P._xdChannelHandler(e.id,"parent.parent")},!0),e},checkOauthDisplay:function(e){var t=e.scope||e.perms||I.getScope();if(!t)return e.display;for(var n=t.split(/\s|,/g),i=0;i<n.length;i++)if(!R.initSitevars.iframePermissions[u(n[i],"trim",!0)])return"popup";return e.display},prepareCall:function(e,t){var n=e.method.toLowerCase(),i=P.Methods.hasOwnProperty(n)?u("Object","assign",!1,{},P.Methods[n]):{},r=w(),o=I.getSecure()||"auth.status"!==n&&"login.status"!=n;u("Object","assign",!1,e,{app_id:I.getClientID(),locale:I.getLocale(),sdk:"joey",access_token:o&&I.getAccessToken()||void 0}),e.display=P.getDisplayMode(i,e),i.url||(i.url="dialog/"+n),"dialog/oauth"!=i.url&&"dialog/permissions.request"!=i.url||!("iframe"==e.display||"touch"==e.display&&e.in_iframe)||(e.display=P.checkOauthDisplay(e)),I.getIsVersioned()&&"dialog/"===i.url.substring(0,7)&&(i.url=e.version+"/"+i.url);var s={cb:t,id:r,size:i.size||P.getDefaultSize(),url:N.resolve("touch"==e.display?"m":"www",o)+"/"+i.url,params:e,name:n,dialog:g.newInstance(r,e.display)},a=i.transform?i.transform:P.genericTransform;if(!a||(s=a(s))){var l=(i.getXdRelation||P.getXdRelation)(s.params);return s.id in P._defaultCb||"next"in s.params||"redirect_uri"in s.params||(s.params.next=P._xdResult(s.cb,s.id,l,!0)),"parent"===l&&u("Object","assign",!1,s.params,{channel_url:P._xdChannelHandler(r,"parent.parent")},!0),s=P.prepareParams(s)}},prepareParams:function(e){e.params.method;"async"!==e.params.display&&delete e.params.method,e.params=_(e.params);var t=A.encode(e.params);return!O.nativeApp()&&P.urlTooLongForIE(e.url+"?"+t)?e.post=!0:t&&(e.url+="?"+t),e},urlTooLongForIE:function(e){return e.length>2e3},getDisplayMode:function(e,t){if("hidden"===t.display||"none"===t.display)return t.display;var n=I.isEnvironment(I.ENVIRONMENTS.CANVAS)||I.isEnvironment(I.ENVIRONMENTS.PAGETAB);return n&&!t.display?"async":O.mobile()||"touch"===t.display?"touch":I.getAccessToken()||"iframe"!=t.display&&"dialog"!=t.display||e.loggedOutIframe?e.connectDisplay&&!n?e.connectDisplay:t.display||(I.getAccessToken()?"dialog":"popup"):(k.error('"dialog" mode can only be used when the user is connected.'),"popup")},getXdRelation:function(t){var n=t.display;return"popup"===n||"touch"===n?"opener":"dialog"===n||"iframe"===n||"hidden"===n||"none"===n?"parent":"async"===n?"parent.frames["+e.name+"]":void 0},popup:function(t){var i=void 0!==e.screenX?e.screenX:e.screenLeft,r=void 0!==e.screenY?e.screenY:e.screenTop,o=void 0!==e.outerWidth?e.outerWidth:n.documentElement.clientWidth,s=void 0!==e.outerHeight?e.outerHeight:n.documentElement.clientHeight-22,a=O.mobile()?null:t.size.width,l=O.mobile()?null:t.size.height,u=i<0?e.screen.width+i:i,c=parseInt(u+(o-a)/2,10),d=parseInt(r+(s-l)/2.5,10),f=[];null!==a&&f.push("width="+a),null!==l&&f.push("height="+l),f.push("left="+c),f.push("top="+d),f.push("scrollbars=1"),"permissions.request"!=t.name&&"permissions.oauth"!=t.name||f.push("location=1,toolbar=0"),f=f.join(",");var h;t.post?(h=e.open("about:blank",t.id,f))&&(P.setLoadedNode(t,h,"popup"),p.submitToTarget({url:t.url,target:t.id,params:t.params})):(h=e.open(t.url,t.id,f))&&P.setLoadedNode(t,h,"popup"),h&&t.id in P._defaultCb&&P._popupMonitor()},setLoadedNode:function(e,t,n){e.params&&"popup"!=e.params.display&&(t.fbCallID=e.id),t={node:t,type:n,fbCallID:e.id},P._loadedNodes[e.id]=t},getLoadedNode:function(e){var t="object"==typeof e?e.id:e,n=P._loadedNodes[t];return n?n.node:null},hidden:function(e){e.className="FB_UI_Hidden",e.root=p.appendHidden(""),P._insertIframe(e)},iframe:function(e){e.className="FB_UI_Dialog";var t=function(){P._triggerDefault(e.id)};e.root=g.create({onClose:t,closeIcon:void 0===e.closeIcon||e.closeIcon,classes:O.ipad()?"centered":""}),e.hideLoader||g.showLoader(t,e.size.width),m.addCss(e.root,"fb_dialog_iframe"),P._insertIframe(e)},touch:function(e){e.params&&e.params.in_iframe?e.ui_created?g.showLoader(function(){P._triggerDefault(e.id)},0):P.iframe(e):O.nativeApp()&&!e.ui_created?(e.frame=e.id,E.onready(function(){P.setLoadedNode(e,E.open(e.url+"#cb="+e.frameName),"native")}),P._popupMonitor()):e.ui_created||P.popup(e)},async:function(e){e.params.redirect_uri=location.protocol+"//"+location.host+location.pathname,delete e.params.access_token,S.remote.showDialog(e.params,function(t){var n=t.result;if(n&&n.e2e){var i=g.get(e.id);i.trackEvents(n.e2e),i.trackEvent("close"),delete n.e2e}e.cb(n)})},getDefaultSize:function(){return g.getDefaultSize()},_insertIframe:function(e){P._loadedNodes[e.id]=!1;var t=function(t){e.id in P._loadedNodes&&P.setLoadedNode(e,t,"iframe")};x(e.post?{url:"about:blank",root:e.root,className:e.className,width:e.size.width,height:e.size.height,id:e.id,onInsert:t,onload:function(t){p.submitToTarget({url:e.url,target:t.name,params:e.params})}}:{url:e.url,root:e.root,className:e.className,width:e.size.width,height:e.size.height,id:e.id,name:e.frameName,onInsert:t})},_handleResizeMessage:function(e,t){var n=P.getLoadedNode(e);n&&(t.height&&(n.style.height=t.height+"px"),t.width&&(n.style.width=t.width+"px"),T.inform("resize.ack",t||{},"parent.frames["+n.name+"]"),g.isActive(n)||g.show(n))},_triggerDefault:function(e){P._xdRecv({frame:e},P._defaultCb[e]||function(){})},_popupMonitor:function(){var e;for(var t in P._loadedNodes)if(P._loadedNodes.hasOwnProperty(t)&&t in P._defaultCb){var n=P._loadedNodes[t];if("popup"!=n.type&&"native"!=n.type)continue;var i=n.node;try{i.closed?P._triggerDefault(t):e=!0}catch(e){}}e&&!P._popupInterval?P._popupInterval=r(P._popupMonitor,100):!e&&P._popupInterval&&(s(P._popupInterval),P._popupInterval=null)},_xdChannelHandler:function(e,t){return T.handler(function(t){var n=P.getLoadedNode(e);if(n)if("resize"==t.type)P._handleResizeMessage(e,t);else if("hide"==t.type)g.hide(n);else if("rendered"==t.type){var i=g._findRoot(n);g.show(i)}else"fireevent"==t.type&&b.fire(t.event)},t,!0,null)},_xdNextHandler:function(e,t,n,i){return i&&(P._defaultCb[t]=e),T.handler(function(t){P._xdRecv(t,e)},n)+"&frame="+t},_xdRecv:function(t,n){var r=P.getLoadedNode(t.frame);if(r)if(r.close)try{r.close(),/iPhone.*Version\/(5|6)/.test(navigator.userAgent)&&"5"!==RegExp.$1&&e.focus(),P._popupCount--}catch(e){}else m.containsCss(r,"FB_UI_Hidden")?i(function(){r.parentNode.parentNode.removeChild(r.parentNode)},3e3):m.containsCss(r,"FB_UI_Dialog")&&g.remove(r);if(delete P._loadedNodes[t.frame],delete P._defaultCb[t.frame],t.e2e){var o=g.get(t.frame);o.trackEvents(t.e2e),o.trackEvent("close"),delete t.e2e}n(t)},_xdResult:function(e,t,n,i){return P._xdNextHandler(function(t){e&&e(t.result&&t.result!=P._resultToken&&u("JSON","parse",!1,t.result))},t,n,i)+"&result="+encodeURIComponent(P._resultToken)},xdHandler:function(e,t,n,i,r){return P._xdNextHandler(f.xdResponseWrapper(e,i,r),t,n,!0)}};S.stub("showDialog"),c.exports=P},null),l("sdk.ui",["Assert","sdk.Impressions","Log","sdk.PlatformVersioning","sdk.Runtime","sdk.UIServer","sdk.feature"],function(e,t,n,i,r,o,s,a,l,c,d,f,p){r.exports=function(e,t){if(s.isObject(e),s.maybeFunction(t),d.getIsVersioned()&&(c.assertVersionIsSet(),e.version?c.assertValidVersion(e.version):e.version=d.getVersion()),!(e=u("Object","assign",!1,{},e)).method)return l.error('"method" is a required parameter for FB.ui().'),null;"pay.prompt"==e.method&&(e.method="pay");var n=e.method;e.redirect_uri&&(l.warn("When using FB.ui, you should not specify a redirect_uri."),delete e.redirect_uri),"permissions.request"!=n&&"permissions.oauth"!=n||"iframe"!=e.display&&"dialog"!=e.display||(e.display=f.checkOauthDisplay(e));var i=p("e2e_tracking",!0);i&&(e.e2e={});var r=f.prepareCall(e,t||function(){});if(!r)return null;var o=r.params.display;"dialog"===o?o="iframe":"none"===o&&(o="hidden");var h=f[o];return h?(i&&r.dialog.subscribe("e2e:end",function(e){e.method=n,e.display=o,l.debug("e2e: %s",u("JSON","stringify",!1,e)),a.log(114,{payload:e})}),h(r),r.dialog):(l.error('"display" must be one of "popup", "dialog", "iframe", "touch", "async", "hidden", or "none"'),null)}},null),l("legacy:fb.auth",["sdk.Auth","sdk.Cookie","copyProperties","sdk.Event","FB","Log","sdk.Runtime","sdk.SignedRequest","sdk.ui"],function(e,t,n,i,r,o,s,a,l,c,d,f,p,h,g){d.provide("",{getLoginStatus:function(){return s.getLoginStatus.apply(s,arguments)},getAuthResponse:function(){return s.getAuthResponse()},getAccessToken:function(){return p.getAccessToken()||null},getUserID:function(){return p.getUserID()||p.getCookieUserID()},login:function(e,t){t&&t.perms&&!t.scope&&(t.scope=t.perms,delete t.perms,f.warn("OAuth2 specification states that 'perms' should now be called 'scope'.  Please update."));var n=p.isEnvironment(p.ENVIRONMENTS.CANVAS)||p.isEnvironment(p.ENVIRONMENTS.PAGETAB);g(l({method:"permissions.oauth",display:n?"async":"popup",domain:location.hostname},t||{}),e)},logout:function(e){g({method:"auth.logout",display:"hidden"},e)}}),s.subscribe("logout",u(c.fire,"bind",!0,c,"auth.logout")),s.subscribe("login",u(c.fire,"bind",!0,c,"auth.login")),s.subscribe("authresponse.change",u(c.fire,"bind",!0,c,"auth.authResponseChange")),s.subscribe("status.change",u(c.fire,"bind",!0,c,"auth.statusChange")),c.subscribe("init:post",function(e){if(e.status&&s.getLoginStatus(),p.getClientID())if(e.authResponse)s.setAuthResponse(e.authResponse,"connected");else if(p.getUseCookie()){var t,n=a.loadSignedRequest();if(n){try{t=h.parse(n)}catch(e){a.clearSignedRequestCookie()}t&&t.user_id&&p.setCookieUserID(t.user_id)}a.loadMeta()}})},3),l("sdk.Canvas.IframeHandling",["DOMWrapper","sdk.RPC"],function(t,n,i,o,a,l,u,c){function d(){var e=u.getWindow().document,t=e.body,n=e.documentElement,i=Math.max(t.offsetTop,0),r=Math.max(n.offsetTop,0),o=t.scrollHeight+i,s=t.offsetHeight+i,a=n.scrollHeight+r,l=n.offsetHeight+r;return Math.max(o,s,a,l)}function f(t){"object"!=typeof t&&(t={});var n=0,i=0;if(t.height||(t.height=d(),n=16,i=4),t.frame||(t.frame=e.name||"iframe_canvas"),p){var r=p.height,o=t.height-r;if(o<=i&&o>=-n)return!1}return p=t,c.remote.setSize(t),!0}var p,h=null;c.stub("setSize");var g={setSize:f,setAutoGrow:function(e,t){void 0===t&&"number"==typeof e&&(t=e,e=!0),e||void 0===e?(null===h&&(h=r(function(){f()},t||100)),f()):null!==h&&(s(h),h=null)}};a.exports=g},null),l("sdk.Canvas.Navigation",["sdk.RPC"],function(e,t,n,i,r,o,s){s.stub("setNavigationEnabled");var a={setUrlHandler:function(e){s.local.navigate=function(t){e({path:t})},s.remote.setNavigationEnabled(!0)}};r.exports=a},null),l("sdk.Canvas.Plugin",["sdk.api","sdk.RPC","Log","UserAgent_DEPRECATED","sdk.Runtime","createArrayFrom"],function(t,n,r,o,s,a,l,c,d,f,p,h){function g(e){e._hideunity_savedstyle={},e._hideunity_savedstyle.left=e.style.left,e._hideunity_savedstyle.position=e.style.position,e._hideunity_savedstyle.width=e.style.width,e._hideunity_savedstyle.height=e.style.height,e.style.left="-10000px",e.style.position="absolute",e.style.width="1px",e.style.height="1px"}function m(e){e._hideunity_savedstyle&&(e.style.left=e._hideunity_savedstyle.left,e.style.position=e._hideunity_savedstyle.position,e.style.width=e._hideunity_savedstyle.width,e.style.height=e._hideunity_savedstyle.height)}function b(e){e._old_visibility=e.style.visibility,e.style.visibility="hidden"}function _(e){e.style.visibility=e._old_visibility||"",delete e._old_visibility}function v(e){if(!("application/x-shockwave-flash"===(e.type?e.type.toLowerCase():null)||e.classid&&e.classid.toUpperCase()==x))return!1;var t=/opaque|transparent/i;if(t.test(e.getAttribute("wmode")))return!1;for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(/param/i.test(i.nodeName)&&/wmode/i.test(i.name)&&t.test(i.value))return!1}return!0}function y(e){return"application/vnd.unity"===(e.type?e.type.toLowerCase():null)||e.classid&&e.classid.toUpperCase()==k}function w(t){var n=h(e.document.getElementsByTagName("object"));n=n.concat(h(e.document.getElementsByTagName("embed")));var r=!1,o=!1;if(u(n,"forEach",!0,function(e){var n=v(e),s=A&&y(e);if(n||s){r=r||n,o=o||s;var a=function(){"opened"===t.state?n?b(e):g(e):n?_(e):m(e)};if(E){d.info("Calling developer specified callback");var l={state:t.state,elem:e};E(l),i(a,200)}else a()}}),Math.random()<=.001){var s={unity:o,flash:r};l(p.getClientID()+"/occludespopups","post",s)}}var x="CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",k="CLSID:444785F1-DE89-4295-863A-D46C3A781394",E=null,A=!(f.osx()>=10.9&&(f.chrome()>=31||f.webkit()>=537.71||f.firefox()>=25));c.local.hidePluginObjects=function(){d.info("hidePluginObjects called"),w({state:"opened"})},c.local.showPluginObjects=function(){d.info("showPluginObjects called"),w({state:"closed"})},c.local.showFlashObjects=c.local.showPluginObjects,c.local.hideFlashObjects=c.local.hidePluginObjects;var C={_setHidePluginCallback:function(e){E=e},hidePluginElement:function(){b(),g()},showPluginElement:function(){_(),m()}};s.exports=C},null),l("sdk.Canvas.Tti",["sdk.RPC","sdk.Runtime"],function(e,t,n,i,r,o,s,a){function l(e,t){var n=[{appId:a.getClientID(),time:u("Date","now",!1),name:t}];e&&n.push(function(t){e(t.result)}),s.remote.logTtiMessage.apply(null,n)}s.stub("logTtiMessage");var c={setDoneLoading:function(e){l(e,"RecordIframeAppTti")},startTimer:function(){l(null,"StartIframeAppTtiTimer")},stopTimer:function(e){l(e,"StopIframeAppTtiTimer")}};r.exports=c},null),l("legacy:fb.canvas",["Assert","sdk.Canvas.Environment","sdk.Event","FB","sdk.Canvas.IframeHandling","sdk.Canvas.Navigation","sdk.Canvas.Plugin","sdk.RPC","sdk.Runtime","sdk.Canvas.Tti"],function(e,t,n,i,r,o,s,a,l,c,d,f,p,h,g,m){c.provide("Canvas",{setSize:function(e){return s.maybeObject(e,"Invalid argument"),d.setSize.apply(null,arguments)},setAutoGrow:function(){return d.setAutoGrow.apply(null,arguments)},getPageInfo:function(e){return s.isFunction(e,"Invalid argument"),a.getPageInfo.apply(null,arguments)},scrollTo:function(e,t){return s.maybeNumber(e,"Invalid argument"),s.maybeNumber(t,"Invalid argument"),a.scrollTo.apply(null,arguments)},setDoneLoading:function(e){return s.maybeFunction(e,"Invalid argument"),m.setDoneLoading.apply(null,arguments)},startTimer:function(){return m.startTimer.apply(null,arguments)},stopTimer:function(e){return s.maybeFunction(e,"Invalid argument"),m.stopTimer.apply(null,arguments)},getHash:function(e){return s.isFunction(e,"Invalid argument"),f.getHash.apply(null,arguments)},setHash:function(e){return s.isString(e,"Invalid argument"),f.setHash.apply(null,arguments)},setUrlHandler:function(e){return s.isFunction(e,"Invalid argument"),f.setUrlHandler.apply(null,arguments)}}),h.local.fireEvent=u(l.fire,"bind",!0,l),l.subscribe("init:post",function(e){g.isEnvironment(g.ENVIRONMENTS.CANVAS)&&(s.isTrue(!e.hideFlashCallback||!e.hidePluginCallback,"cannot specify deprecated hideFlashCallback and new hidePluginCallback"),p._setHidePluginCallback(e.hidePluginCallback||e.hideFlashCallback))})},3),l("legacy:fb.canvas.syncrequests",["sdk.RPC","sdk.Event"],function(e,t,n,i,r,o,s,a){function l(e,t){"canvas.syncRequestUpdated"==e&&(s.remote.initPendingSyncRequests(),a.unsubscribe(a.SUBSCRIBE,l))}s.stub("initPendingSyncRequests"),a.subscribe(a.SUBSCRIBE,l)},3),l("sdk.Canvas.Prefetcher",["sdk.api","createArrayFrom","JSSDKCanvasPrefetcherConfig","sdk.Runtime"],function(e,t,r,o,s,a,l,c,d,f){function p(){var e={object:"data",link:"href",script:"src"};b==h.AUTOMATIC&&u(u("Object","keys",!1,e),"forEach",!0,function(t){var i=e[t];u(c(n.getElementsByTagName(t)),"forEach",!0,function(e){e[i]&&_.push(e[i])})}),0!==_.length&&(l(f.getClientID()+"/staticresources","post",{urls:u("JSON","stringify",!1,_),is_https:"https:"===location.protocol}),_=[])}var h={AUTOMATIC:0,MANUAL:1},g=d.sampleRate,m=d.blacklist,b=h.AUTOMATIC,_=[],v={COLLECT_AUTOMATIC:h.AUTOMATIC,COLLECT_MANUAL:h.MANUAL,addStaticResource:function(e){_.push(e)},setCollectionMode:function(e){b=e},_maybeSample:function(){f.isEnvironment(f.ENVIRONMENTS.CANVAS)&&f.getClientID()&&g&&(Math.random()>1/g||"*"==m||~u(m,"indexOf",!0,f.getClientID())||i(p,3e4))}};s.exports=v},null),l("legacy:fb.canvas.prefetcher",["FB","sdk.Canvas.Prefetcher","sdk.Event","sdk.Runtime"],function(e,t,n,i,r,o,s,a,l,u){s.provide("Canvas.Prefetcher",a),l.subscribe("init:post",function(e){u.isEnvironment(u.ENVIRONMENTS.CANVAS)&&a._maybeSample()})},3),l("legacy:fb.canvas.presence",["sdk.RPC","sdk.Event"],function(e,t,n,i,r,o,s,a){a.subscribe(a.SUBSCRIBE,function(e,t){"canvas.friendsOnlineUpdated"==e&&1===t.length&&s.remote.useFriendsOnline(!0)}),a.subscribe(a.UNSUBSCRIBE,function(e,t){"canvas.friendsOnlineUpdated"==e&&0===t.length&&s.remote.useFriendsOnline(!1)}),s.stub("useFriendsOnline")},3),l("legacy:fb.event",["FB","sdk.Event","sdk.Runtime","sdk.Scribe","sdk.feature"],function(e,t,n,r,o,s,a,l,c,d,f){var p=[],h=null,g=f("event_subscriptions_log",!1);a.provide("Event",{subscribe:function(e,t){return g&&(p.push(e),h||(h=i(function(){d.log("jssdk_error",{appId:c.getClientID(),error:"EVENT_SUBSCRIPTIONS_LOG",extra:{line:0,name:"EVENT_SUBSCRIPTIONS_LOG",script:"N/A",stack:"N/A",message:p.sort().join(",")}}),p.length=0,h=null},g))),l.subscribe(e,t)},unsubscribe:u(l.unsubscribe,"bind",!0,l)})},3),l("legacy:fb.frictionless",["FB","sdk.Frictionless"],function(e,t,n,i,r,o,s,a){s.provide("Frictionless",a)},3),l("sdk.init",["sdk.Cookie","sdk.ErrorHandling","sdk.Event","Log","ManagedError","sdk.PlatformVersioning","QueryString","sdk.Runtime","sdk.URI","createArrayFrom"],function(t,r,o,s,a,l,c,d,f,p,h,g,m,b,_,v){function y(e){return"number"==typeof e&&e>0||"string"==typeof e&&/^[0-9a-f]{21,}$|^[0-9]{1,21}$/.test(e)?e.toString():(p.warn("Invalid App Id: Must be a number or numeric string representing the application id."),null)}function w(e){if(b.getInitialized()&&p.warn("FB.init has already been called - this could indicate a problem"),b.getIsVersioned()){if("[object Object]"!==Object.prototype.toString.call(e))throw new h("Invalid argument");e.authResponse&&p.warn("Setting authResponse is not supported"),e.version||(e.version=_(location.href).getQueryData().sdk_version),g.assertValidVersion(e.version),b.setVersion(e.version)}else/number|string/.test(typeof e)&&(p.warn("FB.init called with invalid parameters"),e={apiKey:e}),e=u("Object","assign",!1,{status:!0},e||{});var t=y(e.appId||e.apiKey);null!==t&&b.setClientID(t),"scope"in e&&b.setScope(e.scope),e.cookie&&(b.setUseCookie(!0),"string"==typeof e.cookie&&c.setDomain(e.cookie)),e.kidDirectedSite&&b.setKidDirectedSite(!0),b.setInitialized(!0),f.fire("init:post",e)}i(function(){var t=/(connect\.facebook\.net|\.facebook\.com\/assets.php).*?#(.*)/;u(v(n.getElementsByTagName("script")),"forEach",!0,function(e){if(e.src){var n=t.exec(e.src);if(n){var i=m.decode(n[2]);for(var r in i)i.hasOwnProperty(r)&&"0"==i[r]&&(i[r]=0);w(i)}}}),e.fbAsyncInit&&!e.fbAsyncInit.hasRun&&(e.fbAsyncInit.hasRun=!0,d.unguard(e.fbAsyncInit)())},0),a.exports=w},null),l("legacy:fb.init",["FB","sdk.init"],function(e,t,n,i,r,o,s,a){s.provide("",{init:a})},3),l("legacy:fb.pay",["copyProperties","sdk.Runtime","sdk.UIServer","sdk.XD","sdk.feature","FB"],function(t,n,i,r,o,s,a,l,c,d,f){n("FB");var p={error_code:1383001,error_message:"An unknown error caused the dialog to be closed"},h=function(e){return function(t){e(t&&"string"==typeof t.response?u("JSON","parse",!1,t.response):"object"==typeof t?t:p)}};a(c.Methods,{pay:{size:{width:555,height:120},connectDisplay:"popup",transform:function(t){if(f("launch_payment_dialog_via_pac"))return t.cb=h(t.cb),t;if(t.cb=h(t.cb),!l.isEnvironment(l.ENVIRONMENTS.CANVAS))return t.params.order_info=u("JSON","stringify",!1,t.params.order_info),t;var n=d.handler(t.cb,"parent.frames["+(e.name||"iframe_canvas")+"]");t.params.channel=n,t.params.uiserver=!0,d.inform("Pay.Prompt",t.params)}}})},3),l("legacy:fb.ui",["FB","sdk.ui"],function(e,t,n,i,r,o,s,a){s.provide("",{ui:a})},3),l("runOnce",[],function(e,t,n,i,r,o){r.exports=function(e){var t,n;return function(){return t||(t=!0,n=e()),n}}},null),l("XFBML",["Assert","createArrayFrom","sdk.DOM","sdk.feature","sdk.Impressions","Log","ObservableMixin","runOnce","UserAgent_DEPRECATED"],function(e,t,r,o,s,a,l,c,d,f,p,h,g,m,b){function _(e,t){return e[t]+""}function v(e){return e.scopeName?e.scopeName+":"+e.nodeName:""}function y(e){return A[_(e,"nodeName").toLowerCase()]||A[v(e).toLowerCase()]}function w(e){var t=u(u(_(e,"className"),"trim",!0).split(/\s+/),"filter",!0,function(e){return C.hasOwnProperty(e)});if(0!==t.length)return e.getAttribute("fb-xfbml-state")||!e.childNodes||0===e.childNodes.length||1===e.childNodes.length&&3===e.childNodes[0].nodeType||1===e.children.length&&"fb-xfbml-parse-ignore"===_(e.children[0],"className")?C[t[0]]:void 0}function x(e){var t={};return u(c(e.attributes),"forEach",!0,function(e){t[_(e,"name")]=_(e,"value")}),t}function k(e,t,i){var r=n.createElement("div");return d.addCss(e,t+"-"+i),u(c(e.childNodes),"forEach",!0,function(e){r.appendChild(e)}),u(c(e.attributes),"forEach",!0,function(e){r.setAttribute(e.name,e.value)}),e.parentNode.replaceChild(r,e),r}function E(e,t,n){l.isTrue(e&&e.nodeType&&1===e.nodeType&&!!e.getElementsByTagName,"Invalid DOM node passed to FB.XFBML.parse()"),l.isFunction(t,"Invalid callback passed to FB.XFBML.parse()");var r=++S;h.info("XFBML Parsing Start %s",r);var o=1,s=0,a=function(){0===--o&&(h.info("XFBML Parsing Finish %s, %s tags found",r,s),t(),I.inform("render",r,s)),l.isTrue(o>=0,"onrender() has been called too many times")};u(c(e.getElementsByTagName("*")),"forEach",!0,function(e){if((n||!e.getAttribute("fb-xfbml-state"))&&1===e.nodeType){var t=y(e)||w(e);if(t){b.ie()<9&&e.scopeName&&(e=k(e,t.xmlns,t.localName)),o++,s++;var i=new t.ctor(e,t.xmlns,t.localName,x(e));i.subscribe("render",m(function(){e.setAttribute("fb-xfbml-state","rendered"),a()}));var r=function(){"parsed"==e.getAttribute("fb-xfbml-state")?I.subscribe("render.queue",r):(e.setAttribute("fb-xfbml-state","parsed"),i.process())};r()}}}),I.inform("parse",r,s);i(function(){o>0&&h.warn("%s tags failed to render in %s ms",o,3e4)},3e4),a()}var A={},C={},S=0,I=new g;if(I.subscribe("render",function(){var e=I.getSubscribers("render.queue");I.clearSubscribers("render.queue"),u(e,"forEach",!0,function(e){e()})}),u("Object","assign",!1,I,{registerTag:function(e){var t=e.xmlns+":"+e.localName;l.isUndefined(A[t],t+" already registered"),A[t]=e,C[e.xmlns+"-"+e.localName]=e},parse:function(e,t){E(e||n.body,t||function(){},!0)},parseNew:function(){E(n.body,function(){},!1)}}),f("log_tag_count")){var R=function(e,t){I.unsubscribe("parse",R),i(u(p.log,"bind",!0,null,102,{tag_count:t}),5e3)};I.subscribe("parse",R)}s.exports=I},null),l("PluginPipe",["sdk.Content","sdk.feature","guid","insertIframe","Miny","ObservableMixin","JSSDKPluginPipeConfig","sdk.Runtime","UrlMap","UserAgent_DEPRECATED","XFBML"],function(e,t,i,r,o,s,a,l,c,d,f,p,h,g,m,b,_){function v(){return!(!l("plugin_pipe")||void 0===g.getSecure()||!b.chrome()&&!b.firefox()||!h.enabledApps[g.getClientID()])}function y(e){var t=n.createElement("span");a.appendHidden(t);var i={};u(e,"forEach",!0,function(e){i[e.config.name]={plugin:e.tag,params:e.params}});var r=u("JSON","stringify",!1,i),o=f.encode(r);u(e,"forEach",!0,function(e){n.getElementsByName(e.config.name)[0].onload=e.config.onload});var s=m.resolve("www",g.getSecure())+"/plugins/pipe.php",l=c();d({url:"about:blank",root:t,name:l,className:"fb_hidden fb_invisible",onload:function(){a.submitToTarget({url:s,target:l,params:{plugins:o.length<r.length?o:r}})}})}var w=new p,x=h.threshold,k=[];_.subscribe("parse",function(){function e(){0==--n&&y(t)}var t=k;if(k=[],t.length<=x)u(t,"forEach",!0,function(e){d(e.config)});else{var n=t.length+1;u(t,"forEach",!0,function(t){var n={};for(var i in t.config)n[i]=t.config[i];n.url=m.resolve("www",g.getSecure())+"/plugins/plugin_pipe_shell.php",n.onload=e,d(n)}),e()}}),u("Object","assign",!1,w,{add:function(e){var t=v();return t&&k.push({config:e._config,tag:e._tag,params:e._params}),t}}),o.exports=w},null),l("IframePlugin",["sdk.Auth","sdk.DOM","sdk.Event","Log","ObservableMixin","sdk.PlatformVersioning","PluginPipe","QueryString","sdk.Runtime","Type","sdk.URI","UrlMap","UserAgent_DEPRECATED","sdk.XD","sdk.createIframe","guid","resolveURI"],function(t,r,s,a,l,c,d,f,p,h,g,m,b,_,v,y,w,x,k,E,A,C,S){function I(e,t,n){(t||0===t)&&(e.style.width=t+"px"),(n||0===n)&&(e.style.height=n+"px")}function R(e){return function(t){var n={width:t.width,height:t.height,pluginID:e};p.fire("xfbml.resize",n)}}function N(e,t){return e[t]||e[t.replace(/_/g,"-")]||e[t.replace(/_/g,"")]||e["data-"+t]||e["data-"+t.replace(/_/g,"-")]||e["data-"+t.replace(/_/g,"")]||void 0}function O(e,t,n,i){u(u("Object","keys",!1,e),"forEach",!0,function(r){"text"!=e[r]||n[r]||(n[r]=t.textContent||t.innerText||"",t.setAttribute(r,n[r])),i[r]=F[e[r]](N(n,r))})}function T(e){return e||"0"===e||0===e?parseInt(e,10):void 0}function D(e){e&&I(e,0,0)}var P={skin:"string",font:"string",width:"px",height:"px",ref:"string",color_scheme:"string"},F={string:function(e){return e},bool:function(e){return e?/^(?:true|1|yes|on)$/i.test(e):void 0},url:function(e){return S(e)},url_maybe:function(e){return e?S(e):e},hostname:function(t){return t||e.location.hostname},px:function(e){return/^(\d+)(?:px)?$/.test(e)?parseInt(RegExp.$1,10):void 0},text:function(e){return e}},U=y.extend({constructor:function(t,i,r,s){this.parent(),r=r.replace(/-/g,"_");var a=N(s,"plugin_id");this.subscribe("xd.resize",R(a)),this.subscribe("xd.resize.flow",R(a)),this.subscribe("xd.resize.flow",u(function(e){u("Object","assign",!1,this._config.root.style,{verticalAlign:"bottom",overflow:""}),I(this._config.root,T(e.width),T(e.height)),this.updateLift(),o(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.resize",u(function(e){u("Object","assign",!1,this._config.root.style,{verticalAlign:"bottom",overflow:""}),I(this._config.root,T(e.width),T(e.height)),I(this._iframe,T(e.width),T(e.height)),this._isIframeResized=!0,this.updateLift(),o(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.resize.iframe",u(function(e){I(this._iframe,T(e.width),T(e.height)),this._isIframeResized=!0,this.updateLift(),o(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.sdk_event",function(e){var n=u("JSON","parse",!1,e.data);n.pluginID=a,p.fire(e.event,n,t)});var l=v.getSecure()||"https:"==e.location.protocol,c=x.resolve("www",l)+"/plugins/"+r+".php?",h={};O(this.getParams(),t,s,h),O(P,t,s,h),u("Object","assign",!1,h,{app_id:v.getClientID(),locale:v.getLocale(),sdk:"joey",kid_directed_site:v.getKidDirectedSite(),channel:E.handler(u(function(e){return this.inform("xd."+e.type,e)},"bind",!0,this),"parent.parent",!0)}),f.addCss(t,"fb_iframe_widget");var g=C();this.subscribe("xd.verify",function(e){E.sendToFacebook(g,{method:"xd/verify",params:u("JSON","stringify",!1,e.token)})}),this.subscribe("xd.refreshLoginStatus",u(d.getLoginStatus,"bind",!0,d,u(this.inform,"bind",!0,this,"login.status"),!0));var m=n.createElement("span");u("Object","assign",!1,m.style,{verticalAlign:"top",width:"0px",height:"0px",overflow:"hidden"}),this._element=t,this._ns=i,this._tag=r,this._params=h,this._config={root:m,url:c+_.encode(h),name:g,width:k.mobile()?void 0:h.width||1e3,height:h.height||1e3,style:{border:"none",visibility:"hidden"},title:this._ns+":"+this._tag+" Facebook Social Plugin",onload:u(function(){return this.inform("render")},"bind",!0,this),onerror:u(function(){return D(this._iframe)},"bind",!0,this)}},process:function(){if(v.getIsVersioned()){m.assertVersionIsSet();var e=w(this._config.url);this._config.url=e.setPath("/"+v.getVersion()+e.getPath()).toString()}var t=u("Object","assign",!1,{},this._params);delete t.channel;var n=_.encode(t);if(this._element.getAttribute("fb-iframe-plugin-query")==n)return h.info("Skipping render: %s:%s %s",this._ns,this._tag,n),void this.inform("render");for(this._element.setAttribute("fb-iframe-plugin-query",n),this.subscribe("render",u(function(){this._iframe.style.visibility="visible",this._isIframeResized||D(this._iframe)},"bind",!0,this));this._element.firstChild;)this._element.removeChild(this._element.firstChild);this._element.appendChild(this._config.root);var r=k.mobile()?120:45;this._timeoutID=i(u(function(){D(this._iframe),h.warn("%s:%s failed to resize in %ss",this._ns,this._tag,r)},"bind",!0,this),1e3*r),b.add(this)||(this._iframe=A(this._config)),k.mobile()&&(f.addCss(this._element,"fb_iframe_widget_fluid"),u("Object","assign",!1,this._element.style,{display:"block",width:"100%",height:"auto"}),u("Object","assign",!1,this._config.root.style,{width:"100%",height:"auto"}),u("Object","assign",!1,this._iframe.style,{width:"100%",height:"auto",position:"static"}))},updateLift:function(){var e=this._iframe.style.width===this._config.root.style.width&&this._iframe.style.height===this._config.root.style.height;f[e?"removeCss":"addCss"](this._iframe,"fb_iframe_widget_lift")}},g);U.getVal=N,U.withParams=function(e){return U.extend({getParams:function(){return e}})},l.exports=U},null),l("PluginTags",[],function(e,t,n,i,r,o){var s={activity:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",recommendations:"bool",site:"hostname"},composer:{action_type:"string",action_properties:"string"},create_event_button:{},degrees:{href:"url"},facepile:{href:"string",action:"string",size:"string",max_rows:"string",show_count:"bool"},follow:{href:"url",layout:"string",show_faces:"bool"},like:{href:"url",layout:"string",show_faces:"bool",share:"bool",action:"string",send:"bool"},like_box:{href:"string",show_faces:"bool",header:"bool",stream:"bool",force_wall:"bool",show_border:"bool",id:"string",connections:"string",profile_id:"string",name:"string"},open_graph:{href:"url",layout:"string",show_faces:"bool",action_type:"string",action_properties:"string"},open_graph_preview:{action_type:"string",action_properties:"string"},page_events:{href:"url"},post:{href:"url",show_border:"bool"},privacy_selector:{},profile_pic:{uid:"string",linked:"bool",href:"string",size:"string",facebook_logo:"bool"},recommendations:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",site:"hostname"},share_button:{href:"url",layout:"string",type:"string"},shared_activity:{header:"bool"},send:{href:"url"},send_to_mobile:{max_rows:"string",show_faces:"bool",size:"string"},story:{href:"url",show_border:"bool"},topic:{topic_name:"string",topic_id:"string"},want:{href:"url",layout:"string",show_faces:"bool"}},a={subscribe:"follow",fan:"like_box",likebox:"like_box",friendpile:"facepile"};u(u("Object","keys",!1,a),"forEach",!0,function(e){s[e]=s[a[e]]}),r.exports=s},null),l("sdk.Arbiter",[],function(e,t,n,i,r,o){var s={BEHAVIOR_EVENT:"e",BEHAVIOR_PERSISTENT:"p",BEHAVIOR_STATE:"s"};r.exports=s},null),l("sdk.XFBML.Element",["sdk.DOM","Type","ObservableMixin"],function(e,t,i,r,o,s,a,l,c){var d=l.extend({constructor:function(e){this.parent(),this.dom=e},fire:function(){this.inform.apply(this,arguments)},getAttribute:function(e,t,n){var i=a.getAttr(this.dom,e);return i?n?n(i):i:t},_getBoolAttribute:function(e,t){var n=a.getBoolAttr(this.dom,e);return null===n?t:n},_getPxAttribute:function(e,t){return this.getAttribute(e,t,function(e){var n=parseInt(e,10);return isNaN(n)?t:n})},_getLengthAttribute:function(e,t){return this.getAttribute(e,t,function(e){if("100%"===e)return e;var n=parseInt(e,10);return isNaN(n)?t:n})},_getAttributeFromList:function(e,t,n){return this.getAttribute(e,t,function(e){return e=e.toLowerCase(),u(n,"indexOf",!0,e)>-1?e:t})},isValid:function(){for(var e=this.dom;e;e=e.parentNode)if(e==n.body)return!0},clear:function(){a.html(this.dom,"")}},c);o.exports=d},null),l("sdk.XFBML.IframeWidget",["sdk.Arbiter","sdk.Auth","sdk.Content","sdk.DOM","sdk.Event","sdk.XFBML.Element","guid","insertIframe","QueryString","sdk.Runtime","sdk.ui","UrlMap","sdk.XD"],function(e,t,i,r,o,s,a,l,c,d,f,p,h,g,m,b,_,v,y){var w=p.extend({_iframeName:null,_showLoader:!0,_refreshOnAuthChange:!1,_allowReProcess:!1,_fetchPreCachedLoader:!1,_visibleAfter:"load",_widgetPipeEnabled:!1,_borderReset:!1,_repositioned:!1,getUrlBits:function(){throw new Error("Inheriting class needs to implement getUrlBits().")},setupAndValidate:function(){return!0},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return this._iframeName},getIframeTitle:function(){return"Facebook Social Plugin"},getChannelUrl:function(){if(!this._channelUrl){var e=this;this._channelUrl=y.handler(function(t){e.fire("xd."+t.type,t)},"parent.parent",!0)}return this._channelUrl},getIframeNode:function(){return this.dom.getElementsByTagName("iframe")[0]},arbiterInform:function(e,t,n){y.sendToFacebook(this.getIframeName(),{method:e,params:u("JSON","stringify",!1,t||{}),behavior:n||a.BEHAVIOR_PERSISTENT})},_arbiterInform:function(e,t,n){var i='parent.frames["'+this.getIframeNode().name+'"]';y.inform(e,t,i,n)},getDefaultWebDomain:function(){return v.resolve("www")},process:function(e){if(this._done){if(!this._allowReProcess&&!e)return;this.clear()}else this._oneTimeSetup();if(this._done=!0,this._iframeName=this.getIframeName()||this._iframeName||h(),this.setupAndValidate()){this._showLoader&&this._addLoader(),d.addCss(this.dom,"fb_iframe_widget"),"immediate"!=this._visibleAfter?d.addCss(this.dom,"fb_hide_iframes"):this.subscribe("iframe.onload",u(this.fire,"bind",!0,this,"render"));var t=this.getSize()||{},i=this.getFullyQualifiedURL();"100%"==t.width&&d.addCss(this.dom,"fb_iframe_widget_fluid"),this.clear(),g({url:i,root:this.dom.appendChild(n.createElement("span")),name:this._iframeName,title:this.getIframeTitle(),className:b.getRtl()?"fb_rtl":"fb_ltr",height:t.height,width:t.width,onload:u(this.fire,"bind",!0,this,"iframe.onload")}),this._resizeFlow(t),this.loaded=!1,this.subscribe("iframe.onload",u(function(){this.loaded=!0,this._isResizeHandled||d.addCss(this.dom,"fb_hide_iframes")},"bind",!0,this))}else this.fire("render")},generateWidgetPipeIframeName:function(){return"fb_iframe_"+ ++x},getFullyQualifiedURL:function(){var e=this._getURL();if((e+="?"+m.encode(this._getQS())).length>2e3){e="about:blank";var t=u(function(){this._postRequest(),this.unsubscribe("iframe.onload",t)},"bind",!0,this);this.subscribe("iframe.onload",t)}return e},_getWidgetPipeShell:function(){return v.resolve("www")+"/common/widget_pipe_shell.php"},_oneTimeSetup:function(){this.subscribe("xd.resize",u(this._handleResizeMsg,"bind",!0,this)),this.subscribe("xd.resize",u(this._bubbleResizeEvent,"bind",!0,this)),this.subscribe("xd.resize.iframe",u(this._resizeIframe,"bind",!0,this)),this.subscribe("xd.resize.flow",u(this._resizeFlow,"bind",!0,this)),this.subscribe("xd.resize.flow",u(this._bubbleResizeEvent,"bind",!0,this)),this.subscribe("xd.refreshLoginStatus",function(){l.getLoginStatus(function(){},!0)}),this.subscribe("xd.logout",function(){_({method:"auth.logout",display:"hidden"},function(){})}),this._refreshOnAuthChange&&this._setupAuthRefresh(),"load"==this._visibleAfter&&this.subscribe("iframe.onload",u(this._makeVisible,"bind",!0,this)),this.subscribe("xd.verify",u(function(e){this.arbiterInform("xd/verify",e.token)},"bind",!0,this)),this.oneTimeSetup()},_makeVisible:function(){this._removeLoader(),d.removeCss(this.dom,"fb_hide_iframes"),this.fire("render")},_setupAuthRefresh:function(){l.getLoginStatus(u(function(e){var t=e.status;f.subscribe("auth.statusChange",u(function(e){this.isValid()&&("unknown"!=t&&"unknown"!=e.status||this.process(!0),t=e.status)},"bind",!0,this))},"bind",!0,this))},_handleResizeMsg:function(e){this.isValid()&&(this._resizeIframe(e),this._resizeFlow(e),this._borderReset||(this.getIframeNode().style.border="none",this._borderReset=!0),this._isResizeHandled=!0,this._makeVisible())},_bubbleResizeEvent:function(e){var t={height:e.height,width:e.width,pluginID:this.getAttribute("plugin-id")};f.fire("xfbml.resize",t)},_resizeIframe:function(e){var t=this.getIframeNode();"true"===e.reposition&&this._repositionIframe(e),e.height&&(t.style.height=e.height+"px"),e.width&&(t.style.width=e.width+"px"),this._updateIframeZIndex()},_resizeFlow:function(e){var t=this.dom.getElementsByTagName("span")[0];e.height&&(t.style.height=e.height+"px"),e.width&&(t.style.width=e.width+"px"),this._updateIframeZIndex()},_updateIframeZIndex:function(){var e=this.dom.getElementsByTagName("span")[0],t=this.getIframeNode(),n=t.style.height===e.style.height&&t.style.width===e.style.width;d[n?"removeCss":"addCss"](t,"fb_iframe_widget_lift")},_repositionIframe:function(e){var t=this.getIframeNode(),n=parseInt(d.getStyle(t,"width"),10),i=d.getPosition(t).x,r=d.getViewportInfo().width,o=parseInt(e.width,10);i+o>r&&i>o?(t.style.left=n-o+"px",this.arbiterInform("xd/reposition",{type:"horizontal"}),this._repositioned=!0):this._repositioned&&(t.style.left="0px",this.arbiterInform("xd/reposition",{type:"restore"}),this._repositioned=!1)},_addLoader:function(){this._loaderDiv||(d.addCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv=n.createElement("div"),this._loaderDiv.className="FB_Loader",this.dom.appendChild(this._loaderDiv))},_removeLoader:function(){this._loaderDiv&&(d.removeCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv.parentNode&&this._loaderDiv.parentNode.removeChild(this._loaderDiv),this._loaderDiv=null)},_getQS:function(){return u("Object","assign",!1,{api_key:b.getClientID(),locale:b.getLocale(),sdk:"joey",kid_directed_site:b.getKidDirectedSite(),ref:this.getAttribute("ref")},this.getUrlBits().params)},_getURL:function(){return this.getDefaultWebDomain()+"/plugins/"+this.getUrlBits().name+".php"},_postRequest:function(){c.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()})}}),x=0;o.exports=w},null),l("sdk.XFBML.Comments",["sdk.Event","sdk.XFBML.IframeWidget","QueryString","sdk.Runtime","JSSDKConfig","UrlMap","UserAgent_DEPRECATED"],function(t,i,r,o,s,a,l,c,d,f,p,h,g){var m=c.extend({_visibleAfter:"immediate",_refreshOnAuthChange:!0,setupAndValidate:function(){var t={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme"),skin:this.getAttribute("skin"),numposts:this.getAttribute("num-posts",10),width:this._getLengthAttribute("width"),href:this.getAttribute("href"),permalink:this.getAttribute("permalink"),publish_feed:this.getAttribute("publish_feed"),order_by:this.getAttribute("order_by"),mobile:this._getBoolAttribute("mobile")};if(t.width||t.permalink||(t.width=550),p.initSitevars.enableMobileComments&&g.mobile()&&!1!==t.mobile&&(t.mobile=!0,delete t.width),t.skin||(t.skin=t.colorscheme),t.href){var i=this.getAttribute("fb_comment_id");i||(i=d.decode(n.URL.substring(u(n.URL,"indexOf",!0,"?")+1)).fb_comment_id)&&u(i,"indexOf",!0,"#")>0&&(i=i.substring(0,u(i,"indexOf",!0,"#"))),i&&(t.fb_comment_id=i,this.subscribe("render",u(function(){e.location.hash||(e.location.hash=this.getIframeNode().id)},"bind",!0,this)))}else{if(t.migrated=this.getAttribute("migrated"),t.xid=this.getAttribute("xid"),t.title=this.getAttribute("title",n.title),t.url=this.getAttribute("url",n.URL),t.quiet=this.getAttribute("quiet"),t.reverse=this.getAttribute("reverse"),t.simple=this.getAttribute("simple"),t.css=this.getAttribute("css"),t.notify=this.getAttribute("notify"),!t.xid){var r=u(n.URL,"indexOf",!0,"#");t.xid=r>0?encodeURIComponent(n.URL.substring(0,r)):encodeURIComponent(n.URL)}t.migrated&&(t.href=h.resolve("www")+"/plugins/comments_v1.php?app_id="+f.getClientID()+"&xid="+encodeURIComponent(t.xid)+"&url="+encodeURIComponent(t.url))}return this._attr=t,!0},oneTimeSetup:function(){this.subscribe("xd.addComment",u(this._handleCommentMsg,"bind",!0,this)),this.subscribe("xd.commentCreated",u(this._handleCommentCreatedMsg,"bind",!0,this)),this.subscribe("xd.commentRemoved",u(this._handleCommentRemovedMsg,"bind",!0,this))},getSize:function(){if(!this._attr.permalink)return{width:this._attr.mobile?"100%":this._attr.width,height:160}},getUrlBits:function(){return{name:"comments",params:this._attr}},getDefaultWebDomain:function(){return h.resolve(this._attr.mobile?"m":"www",!0)},_handleCommentMsg:function(e){this.isValid()&&l.fire("comments.add",{post:e.post,user:e.user,widget:this})},_handleCommentCreatedMsg:function(e){if(this.isValid()){var t={href:e.href,commentID:e.commentID,parentCommentID:e.parentCommentID,message:e.message};l.fire("comment.create",t)}},_handleCommentRemovedMsg:function(e){if(this.isValid()){var t={href:e.href,commentID:e.commentID};l.fire("comment.remove",t)}}});s.exports=m},null),l("sdk.XFBML.CommentsCount",["ApiClient","sdk.DOM","sdk.XFBML.Element","sprintf"],function(t,n,i,r,o,s,a,l,c,d){var f=c.extend({process:function(){l.addCss(this.dom,"fb_comments_count_zero");var t=this.getAttribute("href",e.location.href);a.scheduleBatchCall("/v2.1/"+encodeURIComponent(t),{fields:"share"},u(function(e){var t=e.share&&e.share.comment_count||0;l.html(this.dom,d('<span class="fb_comments_count">%s</span>',t)),t>0&&l.removeCss(this.dom,"fb_comments_count_zero"),this.fire("render")},"bind",!0,this))}});o.exports=f},null),l("safeEval",[],function(t,n,i,r,o,s){o.exports=function(t,n){if(null!==t&&void 0!==t)return"string"!=typeof t?t:/^\w+$/.test(t)&&"function"==typeof e[t]?e[t].apply(null,n||[]):Function('return eval("'+t.replace(/"/g,'\\"')+'");').apply(null,n||[])}},null),l("sdk.Helper",["sdk.ErrorHandling","sdk.Event","UrlMap","safeEval","sprintf"],function(t,n,i,r,o,s,a,l,u,c,d){var f={isUser:function(e){return e<22e8||e>=1e14&&e<=0x5b0a58f100ef||e>=89e12&&e<=89999999999999},upperCaseFirstChar:function(e){return e.length>0?e.substr(0,1).toUpperCase()+e.substr(1):e},getProfileLink:function(e,t,n){return!n&&e&&(n=d("%s/profile.php?id=%s",u.resolve("www"),e.uid||e.id)),n&&(t=d('<a class="fb_link" href="%s">%s</a>',n,t)),t},invokeHandler:function(e,t,n){e&&("string"==typeof e?a.unguard(c)(e,n):e.apply&&a.unguard(e).apply(t,n||[]))},fireEvent:function(e,t){var n=t._attr.href;t.fire(e,n),l.fire(e,n,t)},executeFunctionByName:function(t){for(var n=Array.prototype.slice.call(arguments,1),i=t.split("."),r=i.pop(),o=e,s=0;s<i.length;s++)o=o[i[s]];return o[r].apply(this,n)}};o.exports=f},null),l("sdk.XFBML.LoginButton",["sdk.Helper","IframePlugin"],function(e,t,n,i,r,o,s,a){var l=a.extend({constructor:function(e,t,n,i){this.parent(e,t,n,i);var r=a.getVal(i,"on_login");r&&this.subscribe("login.status",function(e){s.invokeHandler(r,null,[e])})},getParams:function(){return{scope:"string",perms:"string",size:"string",login_text:"text",show_faces:"bool",max_rows:"string",show_login_face:"bool",registration_url:"url_maybe",auto_logout_link:"bool",one_click:"bool",show_banner:"bool",auth_type:"string",default_audience:"string"}}});r.exports=l},null),l("escapeHTML",[],function(e,t,n,i,r,o){var s=/[&<>"'\/]/g,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","/":"&#x2F;"};r.exports=function(e){return e.replace(s,function(e){return a[e]})}},null),l("sdk.XFBML.Name",["ApiClient","escapeHTML","sdk.Event","sdk.XFBML.Element","sdk.Helper","Log","sdk.Runtime"],function(e,t,n,i,r,o,s,a,l,c,d,f,p){var h={}.hasOwnProperty,g=c.extend({process:function(){if(u("Object","assign",!1,this,{_uid:this.getAttribute("uid"),_firstnameonly:this._getBoolAttribute("first-name-only"),_lastnameonly:this._getBoolAttribute("last-name-only"),_possessive:this._getBoolAttribute("possessive"),_reflexive:this._getBoolAttribute("reflexive"),_objective:this._getBoolAttribute("objective"),_linked:this._getBoolAttribute("linked",!0),_subjectId:this.getAttribute("subject-id")}),!this._uid)return f.error('"uid" is a required attribute for <fb:name>'),void this.fire("render");var e=[];this._firstnameonly?e.push("first_name"):this._lastnameonly?e.push("last_name"):e.push("name"),this._subjectId&&(e.push("gender"),this._subjectId==p.getUserID()&&(this._reflexive=!0)),l.monitor("auth.statusChange",u(function(){if(!this.isValid())return this.fire("render"),!0;this._uid&&"loggedinuser"!=this._uid||(this._uid=p.getUserID()),this._uid&&s.scheduleBatchCall("/v1.0/"+this._uid,{fields:e.join(",")},u(function(e){h.call(e,"error")?f.warn("The name is not found for ID: "+this._uid):(this._subjectId==this._uid?this._renderPronoun(e):this._renderOther(e),this.fire("render"))},"bind",!0,this))},"bind",!0,this))},_renderPronoun:function(e){var t="",n=this._objective;if(this._subjectId&&(n=!0,this._subjectId===this._uid&&(this._reflexive=!0)),this._uid==p.getUserID()&&this._getBoolAttribute("use-you",!0))t=this._possessive?this._reflexive?"your own":"your":this._reflexive?"yourself":"you";else switch(e.gender){case"male":t=this._possessive?this._reflexive?"his own":"his":this._reflexive?"himself":n?"him":"he";break;case"female":t=this._possessive?this._reflexive?"her own":"her":this._reflexive?"herself":n?"her":"she";break;default:t=this._getBoolAttribute("use-they",!0)?this._possessive?this._reflexive?"their own":"their":this._reflexive?"themselves":n?"them":"they":this._possessive?this._reflexive?"his/her own":"his/her":this._reflexive?"himself/herself":n?"him/her":"he/she"}this._getBoolAttribute("capitalize",!1)&&(t=d.upperCaseFirstChar(t)),this.dom.innerHTML=t},_renderOther:function(e){var t="",n="";this._uid==p.getUserID()&&this._getBoolAttribute("use-you",!0)?t=this._reflexive?this._possessive?"your own":"yourself":this._possessive?"your":"you":e&&(null===e.first_name&&(e.first_name=""),null===e.last_name&&(e.last_name=""),this._firstnameonly&&void 0!==e.first_name?t=a(e.first_name):this._lastnameonly&&void 0!==e.last_name&&(t=a(e.last_name)),t||(t=a(e.name)),""!==t&&this._possessive&&(t+="'s")),t||(t=a(this.getAttribute("if-cant-see","Facebook User"))),t&&(this._getBoolAttribute("capitalize",!1)&&(t=d.upperCaseFirstChar(t)),n=e&&this._linked?d.getProfileLink(e,t,this.getAttribute("href",null)):t),this.dom.innerHTML=n}});r.exports=g},null),l("sdk.XFBML.RecommendationsBar",["sdk.Arbiter","DOMEventListener","sdk.Event","sdk.XFBML.IframeWidget","resolveURI","sdk.Runtime"],function(t,r,o,s,a,l,c,d,f,p,h,g){var m=p.extend({getUrlBits:function(){return{name:"recommendations_bar",params:this._attr}},setupAndValidate:function(){function t(e,t){function n(){t(),o=null,r=u("Date","now",!1)}var r=0,o=null;return function(){if(!o){var t=u("Date","now",!1);t-r<e?o=i(n,e-(t-r)):n()}return!0}}this._attr={channel:this.getChannelUrl(),api_key:g.getClientID(),font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme"),href:h(this.getAttribute("href")),side:function(e){return"left"==e||"right"==e?e:g.getRtl()?"left":"right"}(this.getAttribute("side")),site:this.getAttribute("site"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),max_age:this.getAttribute("max_age"),trigger:function(e){return e.match(/^\d+(?:\.\d+)?%$/)?e=Math.min(Math.max(parseInt(e,10),0),100)/100:"manual"!=e&&"onvisible"!=e&&(e="onvisible"),e}(this.getAttribute("trigger","")),read_time:function(e){return Math.max(parseInt(e,10)||30,10)}(this.getAttribute("read_time")),num_recommendations:parseInt(this.getAttribute("num_recommendations"),10)||2},this._showLoader=!1,this.subscribe("iframe.onload",u(function(){this.dom.children[0].className="fbpluginrecommendationsbar"+this._attr.side},"bind",!0,this));var r=u(function(){return d.remove(e,"scroll",r),d.remove(n.documentElement,"click",r),d.remove(n.documentElement,"mousemove",r),i(u(this.arbiterInform,"bind",!0,this,"platform/plugins/recommendations_bar/action",null,c.BEHAVIOR_STATE),1e3*this._attr.read_time),!0},"bind",!0,this);if(d.add(e,"scroll",r),d.add(n.documentElement,"click",r),d.add(n.documentElement,"mousemove",r),"manual"==this._attr.trigger){var o=u(function(e){return e==this._attr.href&&(f.unsubscribe("xfbml.recommendationsbar.read",o),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,c.BEHAVIOR_STATE)),!0},"bind",!0,this);f.subscribe("xfbml.recommendationsbar.read",o)}else{var s=t(500,u(function(){return this.calculateVisibility()&&(d.remove(e,"scroll",s),d.remove(e,"resize",s),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,c.BEHAVIOR_STATE)),!0},"bind",!0,this));d.add(e,"scroll",s),d.add(e,"resize",s),s()}this.visible=!1;var a=t(500,u(function(){return!this.visible&&this.calculateVisibility()?(this.visible=!0,this.arbiterInform("platform/plugins/recommendations_bar/visible")):this.visible&&!this.calculateVisibility()&&(this.visible=!1,this.arbiterInform("platform/plugins/recommendations_bar/invisible")),!0},"bind",!0,this));d.add(e,"scroll",a),d.add(e,"resize",a),a(),this.focused=!0;var l=u(function(){return this.focused=!this.focused,!0},"bind",!0,this);return d.add(e,"blur",l),d.add(e,"focus",l),this.resize_running=!1,this.animate=!1,this.subscribe("xd.signal_animation",u(function(){this.animate=!0},"bind",!0,this)),!0},getSize:function(){return{height:25,width:"recommend"==this._attr.action?140:96}},calculateVisibility:function(){var t=n.documentElement.clientHeight;if(!this.focused&&e.console&&e.console.firebug)return this.visible;switch(this._attr.trigger){case"manual":return!1;case"onvisible":return this.dom.getBoundingClientRect().top<=t;default:return((e.pageYOffset||n.body.scrollTop)+t)/n.documentElement.scrollHeight>=this._attr.trigger}}});a.exports=m},null),l("sdk.XFBML.Registration",["sdk.Auth","sdk.Helper","sdk.XFBML.IframeWidget","sdk.Runtime","UrlMap"],function(t,n,i,r,o,s,a,l,c,d,f){var p=c.extend({_visibleAfter:"immediate",_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){return this._attr={action:this.getAttribute("action"),border_color:this.getAttribute("border-color"),channel_url:this.getChannelUrl(),client_id:d.getClientID(),fb_only:this._getBoolAttribute("fb-only",!1),fb_register:this._getBoolAttribute("fb-register",!1),fields:this.getAttribute("fields"),height:this._getPxAttribute("height"),redirect_uri:this.getAttribute("redirect-uri",e.location.href),no_footer:this._getBoolAttribute("no-footer"),no_header:this._getBoolAttribute("no-header"),onvalidate:this.getAttribute("onvalidate"),width:this._getPxAttribute("width",600),target:this.getAttribute("target")},this._attr.onvalidate&&this.subscribe("xd.validate",u(function(e){var t=u("JSON","parse",!1,e.value),n=u(function(t){this.arbiterInform("Registration.Validation",{errors:t,id:e.id})},"bind",!0,this),i=l.executeFunctionByName(this._attr.onvalidate,t,n);i&&n(i)},"bind",!0,this)),this.subscribe("xd.authLogin",u(this._onAuthLogin,"bind",!0,this)),this.subscribe("xd.authLogout",u(this._onAuthLogout,"bind",!0,this)),!0},getSize:function(){return{width:this._attr.width,height:this._getHeight()}},_getHeight:function(){if(this._attr.height)return this._attr.height;var e;if(this._attr.fields)try{e=u("JSON","parse",!1,this._attr.fields)}catch(t){e=this._attr.fields.split(/,/)}else e=["name"];return this._attr.width<this._skinnyWidth?this._skinnyBaseHeight+e.length*this._skinnyFieldHeight:this._baseHeight+e.length*this._fieldHeight},getUrlBits:function(){return{name:"registration",params:this._attr}},getDefaultWebDomain:function(){return f.resolve("www",!0)},_onAuthLogin:function(){a.getAuthResponse()||a.getLoginStatus(),l.fireEvent("auth.login",this)},_onAuthLogout:function(){a.getAuthResponse()||a.getLoginStatus(),l.fireEvent("auth.logout",this)}});o.exports=p},null),l("legacy:fb.xfbml",["Assert","sdk.domReady","sdk.Event","FB","IframePlugin","PluginTags","wrapFunction","XFBML","sdk.XFBML.Comments","sdk.XFBML.CommentsCount","sdk.XFBML.LoginButton","sdk.XFBML.Name","sdk.XFBML.RecommendationsBar","sdk.XFBML.Registration"],function(e,t,r,o,s,a,l,c,d,f,p,h,g,m){var b={comments:t("sdk.XFBML.Comments"),comments_count:t("sdk.XFBML.CommentsCount"),login_button:t("sdk.XFBML.LoginButton"),name:t("sdk.XFBML.Name"),recommendations_bar:t("sdk.XFBML.RecommendationsBar"),registration:t("sdk.XFBML.Registration")};u(u("Object","keys",!1,h),"forEach",!0,function(e){m.registerTag({xmlns:"fb",localName:e.replace(/_/g,"-"),ctor:p.withParams(h[e])})}),u(u("Object","keys",!1,b),"forEach",!0,function(e){m.registerTag({xmlns:"fb",localName:e.replace(/_/g,"-"),ctor:b[e]})}),f.provide("XFBML",{parse:function(e){return l.maybeXfbml(e,"Invalid argument"),e&&9===e.nodeType&&(e=e.body),m.parse.apply(null,arguments)}}),m.subscribe("parse",u(d.fire,"bind",!0,d,"xfbml.parse")),m.subscribe("render",u(d.fire,"bind",!0,d,"xfbml.render")),d.subscribe("init:post",function(e){e.xfbml&&i(g(u(c,"bind",!0,null,m.parse),"entry","init:post:xfbml.parse"),0)}),l.define("Xfbml",function(e){return(1===e.nodeType||9===e.nodeType)&&"string"==typeof e.nodeName});try{n.namespaces&&!n.namespaces.item.fb&&n.namespaces.add("fb")}catch(e){}},3),l("legacy:fb.versioned-sdk",["sdk.Runtime"],function(e,t,n,i,r,o,s){s.setIsVersioned(!0)},3)}.call({},window.inDapIF?parent.window:window)}catch(e){(new Image).src="http://www.facebook.com/common/scribe_endpoint.php?c=jssdk_error&m="+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","revision":"1425205","message":"'+e.message+'"}}')}